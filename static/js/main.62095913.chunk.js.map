{"version":3,"sources":["components/Dialogs/Dialog/Messages/Messages.module.css","components/common/gallery/gallery.module.css","components/Profile/ProfileInfo/status/status.module.css","components/common/formControls/FormControls.module.css","components/Profile/profile.module.css","components/Nav/adaptiveNav.module.css","api/api.ts","api/profile-api.ts","api/users-api.ts","redux-state/profileReducer.ts","interfaces/common-interfaces.ts","api/dialogs-api.ts","redux-state/messageReducer.ts","redux-state/usersReducer.ts","api/auth-api.ts","img/common/preloader.svg","redux-state/loginReducer.ts","redux-state/appReducer.ts","redux-state/notificationReducer.ts","redux-state/stateRedux.ts","components/common/formControls/FormControls.tsx","utils/validators/validators.ts","styles/theme.tsx","redux-state/selectors/login-selectors.ts","components/Login/Login.tsx","components/assets/preloader/Preloader.tsx","redux-state/selectors/notification-selector.ts","img/Profile/avatar.png","components/assets/avatar/avatar.tsx","components/Nav/adaptiveNav.tsx","redux-state/selectors/app-selectors.ts","redux-state/selectors/message-selectors.ts","utils/date-formater.ts","components/common/NetworkError/NetworkError.tsx","components/Dialogs/Dialog/Messages/Messages.jsx","img/Preloader/notFound.gif","components/404/notFound.tsx","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/DialogList/DialogsList.jsx","components/Dialogs/index.tsx","components/Nav/nav.tsx","styles/vertical.align.tsx","components/Header/header.tsx","styles/wrap.styles.tsx","redux-state/selectors/profile-selector.ts","components/Setting/UpdateProfile/update-profile-form.tsx","components/Setting/UpdateProfile/update-contact-form.tsx","components/Setting/setting.tsx","components/Profile/ProfileInfo/status/statusHook.tsx","components/common/gallery/gallery.tsx","components/Profile/ProfileInfo/profileInfo.tsx","components/Profile/MyPosts/post/post.tsx","components/Profile/MyPosts/MyPosts.tsx","hook/Redirect.tsx","components/Profile/profile.tsx","components/Users/User.tsx","img/Profile/avatarBlack.png","components/common/pagitator/Pagitator.tsx","redux-state/selectors/users-selectors.ts","components/common/notFount/NotFound.tsx","components/Users/Users.tsx","localization/index.ts","App.tsx","index.tsx","components/Users/Users.module.css","components/Setting/setting.module.css","components/Nav/nav.module.css","components/Header/header.module.css","components/Dialogs/DialogList/DialogsList.module.css","components/Login/Login.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Dialogs/Dialog/DialogWithUser.module.css","components/Profile/MyPosts/post/post.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","interceptors","request","use","config","error","Promise","reject","ProfileAPI","id","get","data","put","status","avatar","formData","FormData","append","then","response","qs","require","UsersAPI","currentPage","pageSize","filters","stringify","page","count","text","post","delete","message","duration","ResultsCodes","ResultCodeForCaptcha","initialProfilePage","PostsData","content","likes","rep","comm","dataSend","profile","isFetching","isUploadProfile","isFollowed","setProfileErrors","actionsProfile","type","payload","condition","getProfileThunkCreator","dispatch","fullName","i","items","followed","catch","finally","profileReducer","state","action","currentData","Date","toString","slice","stateCopy","filter","item","DialogsAPI","body","UserId","messageId","initialMessage","dialogs","messages","totalCount","isDialogsFetching","isRedirectedToDialog","isDialogFetching","refresh","getDialogsError","getMessagesError","actionsMessages","getDialogsThunkCreator","getMessagesThunkCreator","sendMessagesThunkCreator","messageReducer","temp","m","initialUsers","users","totalUsersCount","currentPagePagitator","followProcess","foundedUsers","UsersActions","userID","isFetchingFollow","setUsersThunkCreator","getState","usersReducer","map","u","_rect","_rect2","_rect3","_rect4","_rect5","AuthAPI","email","password","rememberMe","captcha","initState","login","isLogined","captchaURL","actionsLogin","URL","loginThunkCreator","resultCode","Success","getCaptchaThunkCreator","url","logout","window","location","reload","loginReducer","initialized","blackTheme","actionsApp","appReducer","localStorage","setItem","JSON","initialNotification","newMessageCount","actionsNotifications","notificationReducer","reducers","combineReducers","ProfilePage","MessagePage","UsersReducer","LoginReducer","form","formReducer","app","notification","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","InputField","input","meta","props","hasError","touched","className","styles","InputContainer","required","value","UniversalThemeComponent","styled","div","theme","mode","HeaderStyle","NavigationStyle","AdaptiveNav","ProfileItemStyled","UserOptionItemStyled","PagitatorItemStyled","UserItemStyled","PostsItemStyled","LoginWrapStyled","SettingStyled","getLoginSelector","getIsLoginedSelector","getMyProfileSelector","getCaptchaSelector","getMyIdSelector","Background","ReduxLoginForm","reduxForm","handleSubmit","submitting","Form","onSubmit","AliwangwangOutlined","Input","Field","placeholder","component","validate","name","RememberMe","Captcha","src","alt","Error","disabled","Login","useEffect","document","title","useSelector","useDispatch","to","Photo","LoginForm","loginData","CaptchaIsRequired","stopSubmit","_error","join","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPreloader","_ref","svgRef","titleId","xmlns","x","y","stroke","fill","height","width","viewBox","ref","transform","attributeName","attributeType","dur","values","repeatCount","begin","ForwardRef","Preloader","getNewMessagesCountSelector","AvatarStyled","size","link","AvatarImg","Avatar","SwitchButton","button","FullScreenMenu","setIsFullScreen","headermod","fullScreen","fullScreenWrap","photos","small","MenuUnfoldOutlined","closeFullScreen","onClick","fullScreenMenuItems","adaptiveMenu","activeClassName","Navmod","activeLink","IdcardOutlined","UsergroupAddOutlined","MessageOutlined","SettingOutlined","SwapOutlined","LogoutOutlined","AdaptiveMenu","useState","isFullScreen","adaptivemenu","menu","getIsBlackSelector","getInitializedSelector","getDialogsSelector","getMessagesSelector","getIsDialogsFetching","getIsMessagesFetching","getDialogInfoSelector","createSelector","_","dialog","String","getCorrectTime","date","timeZone","getTimezoneOffset","getTime","Wrap","NetworkError","SyncOutlined","antIcon","LoadingOutlined","style","fontSize","spin","MessageWrap","black","Dots","EllipsisOutlined","Message","messageMenu","Item","color","deleteMessage","DeleteOutlined","MessagesStyle","messageItem","myId","senderId","isMy","messageItemLogo","mail","addedAt","overlay","trigger","messageActions","Messages","dialogId","messagesData","isBlack","isMessageFetching","deleteMessageThunkCreator","reverse","spinning","indicator","NotFound","textAlign","marginTop","notFound","React","Component","DialogStyled","DialogHeader","MessageEditor","ChooseDialog","NoDialogSelected","Dialog","useParams","setMessageText","dialogUserData","DialogMod","dialogWithUser","dialogHeader","large","Dialogavatar","userName","lastUserActivityDate","split","backToDialogList","CloseCircleOutlined","createNewMessage","onKeyPress","event","preventDefault","onChange","e","createNewMessageAcivities","MyPost","send","trim","SendOutlined","DialogListStyled","DialogItemStyled","li","DialogItem","path","DialogsStyles","history","push","dates","lastMessage","lastDialogActivityDate","LastMessage","newMessagesCount","active","DialogsList","useHistory","searchText","setSearchText","dialogsCopied","toLowerCase","includes","dialogsElements","dialogList","searchDialog","SearchOutlined","contactList","DialogWrap","Dialogs","Nav","navigation","VerticalAlign","Header","headerWrap","leftside","logo","rightside","note","hide","BellOutlined","exact","UniversalWrap","maxWidth","getProfileSelector","getIsProfileFetching","getMyPostsSelector","getStatusSelector","getProfileErrorSelector","DisplayingErrorMessagesSchema","Yup","shape","aboutMe","min","max","lookingForAJobDescription","top","renderField","Styles","formItem","label","UpdateProfileForm","lookingForAJob","t","useTranslation","initialValues","enableReinitialize","validationSchema","setSubmitting","res","success","isSubmitting","layout","buttons","UpdateContactForm","contacts","validationScheme","nullable","TabPane","Tabs","Setting","defaultActiveKey","tabPosition","Set","wrap","tab","ProfileOutlined","PhoneOutlined","StatusHook","edit","setEdit","userStatus","setStatus","currentTarget","autoFocus","onBlur","amI","updateStatusThunkCreator","maxLength","EditMode","onDoubleClick","Gellery","galleryStyle","ContentWrapper","setShowGallery","Content","htmlFor","CloudUploadOutlined","onInput","uploadPhoto","display","img","ProfileInfo","hasContact","userId","showGallery","normalizeLink","match","files","Gallery","p","profileWrap","photowrap","information","avatarWrap","changeAvatarContainer","profileAvatar","changeAvatar","AvatarControl","border","info","about","infoItem","SmileOutlined","ExceptionOutlined","FileSearchOutlined","description","Activity","facebook","href","rel","FacebookOutlined","website","DribbbleOutlined","vk","IeOutlined","twitter","TwitterOutlined","instagram","InstagramOutlined","youtube","YoutubeOutlined","github","GithubOutlined","mainLink","LinkedinOutlined","Post","postHeder","postSetting","activity","LikeOutlined","RetweetOutlined","MyPosts","changeVal","isDisabled","changeDisabled","symbols","setSymbols","PostsElements","currentValue","index","myposts","newpost","autoComplete","createnewpost","useRedirect","Profile","params","setProfile","User","UsersStlyes","header","user","some","unfollowThunkCreator","followThunkCreator","Pagitator","portion","pagePagitator","setCurrentPagePagitator","onPageChange","windowsWidth","pageCount","Math","ceil","pages","left","right","settingPanel","navs","LeftOutlined","RightOutlined","getUsersSelector","getPageSizeSelector","getTotalUsersCountSelector","getCurrentPageSelector","getIsFetchingSelector","getPagePagitator","getFollowProccesSelector","getUsersErrorSelector","FrownOutlined","Users","innerWidth","screenWidth","setScreenWidth","setFilters","searchStr","setSearchStr","screenWidthHandler","unfollow","follow","getUsers","parse","search","ignoreQueryPrefix","term","addEventListener","removeEventListener","uri","option","undefined","friend","prevState","allowClear","enterButton","onSearch","itemWrap","resources","ua","eng","i18n","initReactI18next","init","lng","fallbackLng","interpolation","escapeValue","GlobalStyle","createGlobalStyle","App","isBlackTheme","getItem","promise","all","Suspense","fallback","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.62095913.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__2NfD3\",\"messageItem\":\"Messages_messageItem__1kROg\",\"data\":\"Messages_data__1gAI-\",\"isMy\":\"Messages_isMy__2vJsT\",\"messageItemLogo\":\"Messages_messageItemLogo__px053\",\"messageActions\":\"Messages_messageActions__20aUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrap\":\"gallery_Wrap__D-mxu\",\"ContentWrapper\":\"gallery_ContentWrapper__3cwQY\",\"Content\":\"gallery_Content__KeD-U\",\"Header\":\"gallery_Header__1-2fy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"status_Input__3J-UV\",\"EditMode\":\"status_EditMode__Apdum\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputContainer\":\"FormControls_InputContainer__3-NLO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2n88h\",\"information\":\"profile_information__14-Ps\",\"avatarWrap\":\"profile_avatarWrap__mJWIf\",\"changeAvatarContainer\":\"profile_changeAvatarContainer__1aedx\",\"avatar\":\"profile_avatar__2xIzO\",\"changeAvatar\":\"profile_changeAvatar__2FPSc\",\"AvatarControl\":\"profile_AvatarControl__1kTjZ\",\"about\":\"profile_about__3iR5o\",\"contacts\":\"profile_contacts__2NaTb\",\"photowrap\":\"profile_photowrap__36b3g\",\"button\":\"profile_button__fPiVz\",\"infoItem\":\"profile_infoItem__2OOPr\",\"description\":\"profile_description__3lghB\",\"Activity\":\"profile_Activity__2uwJP\",\"Mail\":\"profile_Mail__lDS-x\",\"ActivityButtons\":\"profile_ActivityButtons__2C6ef\",\"Unfollow\":\"profile_Unfollow__2iFaA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logout\":\"adaptiveNav_logout__1ovgc\",\"adaptivemenu\":\"adaptiveNav_adaptivemenu__NMKIG\",\"fullScreen\":\"adaptiveNav_fullScreen__1EWZ8\",\"fullScreenWrap\":\"adaptiveNav_fullScreenWrap__4Lusm\",\"closeFullScreen\":\"adaptiveNav_closeFullScreen__11jW2\",\"fullScreenMenuItems\":\"adaptiveNav_fullScreenMenuItems__2uTXn\",\"menu\":\"adaptiveNav_menu__1DjUw\"};","import axios from 'axios';\r\n\r\nconst DEBUG = process.env.NODE_ENV === 'development';\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '412c8d28-b10e-4666-9818-7ae2e9743b00',\r\n    }\r\n})\r\n\r\ninstance.interceptors.request.use((config) => {\r\n    /** In dev, intercepts request and logs it into console for dev */\r\n    if (DEBUG) {\r\n        //console.info(\"✉️ \", config);\r\n    }\r\n    return config;\r\n}, (error) => {\r\n    if (DEBUG) {\r\n        console.error('✉️ ', error);\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\n\r\n","import {ProfileType} from '../interfaces/profile-interfaces';\r\nimport {instance} from './api';\r\nimport {IBaseResponse} from '../interfaces/common-interfaces';\r\n\r\nexport let ProfileAPI = {\r\n    getProfile(id: number) {\r\n        return instance.get<ProfileType>('profile/' + id)\r\n    },\r\n\r\n    getStatus(id: number) {\r\n        return instance.get<string>('profile/status/' + id);\r\n    },\r\n\r\n    putProfileData(data: ProfileType) {\r\n        return instance.put<IBaseResponse>('profile', data)\r\n    },\r\n\r\n    updateStatus(status: string) {\r\n        return instance.put<IBaseResponse>('profile/status', {status: status});\r\n    },\r\n\r\n    uploadAvatar(avatar: File) {\r\n        let formData = new FormData();\r\n        formData.append('image', avatar)\r\n\r\n\r\n        return instance.put<IBaseResponse>('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data)\r\n    }\r\n};","\r\nimport {instance} from './api';\r\nimport {IBaseResponse, IFilters, IGetItems} from '../interfaces/common-interfaces';\r\nimport {UserT} from '../interfaces/users-interfaces';\r\nconst qs = require('qs')\r\n\r\n\r\nexport let UsersAPI = {\r\n    //todo: &friend=true\r\n    getUsers(currentPage = 1, pageSize = 9, filters: IFilters) {\r\n        let request = qs.stringify({page: currentPage, count: pageSize, ...filters})\r\n\r\n        return instance.get<IGetItems<UserT>>(`users?`+request)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    Search(text: string) {\r\n        return instance.get<IGetItems<UserT>>(`users?term=${text}&count=${5}`)\r\n    },\r\n\r\n\r\n    followAPI: (id: number) => {\r\n        return instance.post<IBaseResponse>('follow/' + id, {}).then(response => response.data);\r\n    },\r\n\r\n    unfollowAPI: (id: number) => {\r\n        return instance.delete<IBaseResponse>('follow/' + id).then(response => response.data)\r\n    }\r\n};","\r\nimport {PostDataType, ProfileType} from '../interfaces/profile-interfaces';\r\nimport {nullable} from '../interfaces/common-interfaces';\r\nimport {InferActionsTypes} from './stateRedux';\r\nimport { ProfileAPI } from '../api/profile-api';\r\nimport { UsersAPI } from '../api/users-api';\r\nimport {Dispatch} from 'redux';\r\nimport {message} from 'antd';\r\n\r\nmessage.config({duration: 100})\r\n\r\n\r\nlet initialProfilePage = {\r\n    PostsData: [\r\n        {id: 1, content: 'Hello Uface!', likes: 0, rep: 0, comm: 0, dataSend: 'Sun Mar 15 2020 18:44:42'},\r\n    ] as Array<PostDataType>,\r\n\r\n    profile: null as nullable<ProfileType>,\r\n    status: '' as nullable<string>,\r\n    isFetching: true as boolean,\r\n    isUploadProfile: false as boolean,\r\n    isFollowed: false as boolean,\r\n    setProfileErrors: '' as string\r\n}\r\n\r\nconst profileReducer = (state = initialProfilePage, action: ActionsType): initialProfilePageType => {\r\n    switch (action.type) {\r\n        case 'ADD_NEW_POST':\r\n            let currentData = new Date().toString().slice(0, 24);\r\n\r\n            let stateCopy = {\r\n                ...state,\r\n                PostsData: [...state.PostsData, {\r\n                    id: 1,\r\n                    content: action.text,\r\n                    likes: 0,\r\n                    rep: 0,\r\n                    comm: 0,\r\n                    dataSend: currentData\r\n                }],\r\n            };\r\n\r\n            return stateCopy;\r\n\r\n        case 'SET_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case 'SET_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case 'USERS_IS_FETCHING' : {\r\n\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload\r\n            }\r\n        }\r\n\r\n        case 'DELETE_POST': {\r\n            return {\r\n                ...state,\r\n                PostsData: state.PostsData.filter(item => item.id !== action.id)\r\n            }\r\n        }\r\n\r\n        case 'SET_FOLLOW': {\r\n            return {\r\n                ...state,\r\n                isFollowed: action.payload\r\n            }\r\n        }\r\n\r\n        case 'UPLOAD_PROFILE_INFO_PROCESS': {\r\n            return {\r\n                ...state,\r\n                isUploadProfile: action.payload\r\n            }\r\n        }\r\n\r\n        case 'SET_PROFILE_ERRORS': {\r\n            return {\r\n                ...state,\r\n                setProfileErrors: action.payload\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const actionsProfile = {\r\n    addNewPostAC: (text: string) => ({type: 'ADD_NEW_POST', text} as const),\r\n    deletePostAC: (id: number) => ({type: 'DELETE_POST', id} as const),\r\n    isUploadProfileAC: (payload: boolean) => ({type: 'UPLOAD_PROFILE_INFO_PROCESS', payload} as const),\r\n    setFollowAC: (payload: boolean) => ({type: 'SET_FOLLOW', payload} as const),\r\n    isFetchingAC: (condition: boolean) => ({type: 'USERS_IS_FETCHING', payload: condition} as const),\r\n    setProfile: (profile: nullable<ProfileType> ) => ({type: 'SET_PROFILE', profile: profile} as const),\r\n    setStatus: (status: string | null) => ({type: 'SET_STATUS', status} as const),\r\n    setProfileErrors: (payload: string) => ({type: 'SET_PROFILE_ERRORS', payload} as const),\r\n}\r\n\r\nexport const getProfileThunkCreator = (id: number) => {\r\n    return (dispatch: any) => {\r\n        dispatch(actionsProfile.setProfileErrors(''))\r\n        dispatch(actionsProfile.isFetchingAC(true))\r\n\r\n        ProfileAPI.getProfile(id).then((response: any) => {\r\n            UsersAPI.Search(response.data.fullName).then((i: any) => {\r\n                dispatch(actionsProfile.setFollowAC(i.data.items[0].followed))\r\n                dispatch(actionsProfile.setProfile(response.data))\r\n                dispatch(actionsProfile.isFetchingAC(false))\r\n            })\r\n        }).catch(() => {\r\n            dispatch(actionsProfile.setProfileErrors('Network error'))\r\n        }).finally(() => {\r\n            dispatch(actionsProfile.isFetchingAC(false))\r\n        });\r\n    }\r\n}\r\n\r\nexport const getStatusThunkCreator = (id: number) => {\r\n    return (dispatch: any) => {\r\n        ProfileAPI.getStatus(id).then((response: any) => {\r\n            dispatch(actionsProfile.setStatus(response.data))\r\n        }).catch(() => {\r\n            message.error('Cannot get user status')\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status: string) => {\r\n    return (dispatch: any) => {\r\n        ProfileAPI.updateStatus(status).then((response: any) => {\r\n            if (response.data.resultCode === 0)\r\n                dispatch(actionsProfile.setStatus(status))\r\n        }).catch(() => {\r\n            message.error('Cannot update user status')\r\n        })\r\n    }\r\n}\r\n\r\nexport const uploadAvatarThunkCreator = (avatar: any) => {\r\n    return () => {\r\n        ProfileAPI.uploadAvatar(avatar).then((response: any) => {\r\n            if (response.resultCode === 0) {\r\n                window.location.reload()\r\n            }\r\n        }).catch(() => {\r\n            message.error('Logout error')\r\n        })\r\n    }\r\n}\r\n\r\nexport const putUserDataThunkCreator = (data: ProfileType) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(actionsProfile.isUploadProfileAC(true));\r\n        ProfileAPI.putProfileData(data).then((response) => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(actionsProfile.isUploadProfileAC(false));\r\n            } else if(response.data.messages) {\r\n                dispatch(actionsProfile.setProfileErrors(response.data.messages.join('')))\r\n            }else {\r\n                message.error('Some error')\r\n               dispatch(actionsProfile.isUploadProfileAC(false));\r\n            }\r\n        }).catch(() => {\r\n            message.error('Cannot update user data')\r\n        }).finally(() => {\r\n            dispatch(actionsProfile.isUploadProfileAC(false));\r\n        })\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\ntype ActionsType = InferActionsTypes<typeof actionsProfile>\r\ntype initialProfilePageType = typeof initialProfilePage;\r\n","export type nullable<T> = T | null\r\n\r\nexport interface IKeys {\r\n    [key: string]: any\r\n}\r\n\r\nexport enum ResultsCodes {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport interface IFilters {\r\n    friend?: boolean,\r\n    term?: string\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport interface IBaseResponse<R = {}> {\r\n    resultCode: ResultsCodes\r\n    messages: Array<string>,\r\n    fieldsErrors: Array<string>\r\n    data: R\r\n}\r\n\r\nexport interface IResponseWithCaptcha<R = {}>{\r\n    resultCode: ResultsCodes | ResultCodeForCaptcha\r\n    messages: Array<string>\r\n    fieldsErrors: Array<string>\r\n    data: R\r\n}\r\n\r\nexport interface IGetItems<Items> {\r\n    items: Array<Items>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\n","import {instance} from './api';\r\n\r\nexport let DialogsAPI = {\r\n    getDialogs() {\r\n        return instance.get<any>('dialogs')\r\n    },\r\n\r\n    startChating(id: number) {\r\n        return instance.put<any>(`dialogs/${id}`)\r\n    },\r\n\r\n    sendMessage(id: number, body: string) {\r\n        return instance.post<any>(`dialogs/${id}/messages`, {body: body}).then(response => response.data)\r\n    },\r\n\r\n    getMessages(UserId: number) {\r\n        return instance.get<any>(`dialogs/${UserId}/messages`)\r\n    },\r\n\r\n    getMessageCount() {\r\n        return instance.get<number>('dialogs/messages/new/count');\r\n    },\r\n\r\n    deleteMessage(messageId: string) {\r\n        return instance.delete<any>(`dialogs/messages/${messageId}`)\r\n    }\r\n}\r\n","import {dialogT, messageT} from '../interfaces/messages-interfaces';\r\nimport {nullable} from '../interfaces/common-interfaces';\r\nimport {InferActionsTypes} from './stateRedux';\r\nimport { DialogsAPI } from '../api/dialogs-api';\r\nimport { message } from 'antd';\r\n\r\n\r\nconst initialMessage = {\r\n    dialogs: null as nullable<Array<dialogT>>,\r\n\r\n    messages: {\r\n        items: [] as Array<messageT>,\r\n        totalCount: 0,\r\n        error: null as nullable<string>,\r\n    },\r\n    isDialogsFetching: false,\r\n    isRedirectedToDialog: false,\r\n    isDialogFetching: false,\r\n    refresh: false,\r\n    getDialogsError: '',\r\n    getMessagesError: '',\r\n};\r\n\r\n\r\nconst messageReducer = (state = initialMessage, action: ActionTypes): initialMessageType => {\r\n    switch (action.type) {\r\n        case 'GET_DIALOGS': {\r\n            return {\r\n                ...state,\r\n                dialogs: action.dialogs\r\n            }\r\n        }\r\n\r\n        case 'GET_MESSAGES': {\r\n            return {\r\n                ...state,\r\n                messages: {\r\n                    items: [...action.data.items],\r\n                    totalCount: action.data.totalCount,\r\n                    error: action.data.error,\r\n                }\r\n            }\r\n        }\r\n\r\n        case 'IS_DIALOG_FETCHING': {\r\n            return {\r\n                ...state,\r\n                isDialogsFetching: action.payload\r\n            }\r\n        }\r\n\r\n        case 'ADD_MESSAGE': {\r\n            return {\r\n                ...state,\r\n                messages: {\r\n                    ...state.messages,\r\n                    items: [...state.messages.items, action.message]\r\n                }\r\n\r\n            }\r\n        }\r\n        case 'SET_IS_REDIRECTED_TO_DIALOG': {\r\n            return {\r\n                ...state,\r\n                isRedirectedToDialog: action.payload\r\n            }\r\n        }\r\n\r\n        case 'SET_IS_DIALOG_FETCHING': {\r\n            return {\r\n                ...state,\r\n                isDialogFetching: action.payload\r\n            }\r\n        }\r\n\r\n        case 'SET_GET_DIALOGS_ERROR': {\r\n            return {\r\n                ...state,\r\n                getDialogsError: action.error\r\n            }\r\n        }\r\n\r\n        case 'SET_GET_MESSAGES_ERROR': {\r\n            return {\r\n                ...state,\r\n                getMessagesError: action.error\r\n            }\r\n        }\r\n\r\n        case 'DELETE_MESSAGE': {\r\n            const temp = state.messages.items.filter(m => m.id !== action.messageId)\r\n            return {\r\n                ...state,\r\n                messages: {\r\n                    ...state.messages,\r\n                    items: temp\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const actionsMessages = {\r\n    getDialogsAC: (dialogs: Array<dialogT> | null) => ({type: 'GET_DIALOGS', dialogs} as const),\r\n    getMessagesAC: (data: {items: Array<messageT>, totalCount: number, error: string}) => ({type: 'GET_MESSAGES', data} as const),\r\n    isDialogsFetchingAC: (payload: boolean) => ({type: 'IS_DIALOG_FETCHING', payload} as const),\r\n    addMessageAC: (message: messageT) => ({type: 'ADD_MESSAGE', message} as const),\r\n    setRedirectedToDialog: (payload: boolean) => ({type: 'SET_IS_REDIRECTED_TO_DIALOG', payload} as const),\r\n    setIsDialogFetching: (payload: boolean) => ({type: 'SET_IS_DIALOG_FETCHING', payload} as const),\r\n    deleteMessage: (messageId: string) => ({type: 'DELETE_MESSAGE', messageId} as const),\r\n    setGetDialogsError: (error: string) => ({type: 'SET_GET_DIALOGS_ERROR', error} as const),\r\n    setGetMessagesError: (error: string) => ({type: 'SET_GET_MESSAGES_ERROR', error} as const)\r\n}\r\n\r\nexport const getDialogsThunkCreator = () => {\r\n    return (dispatch: any) => {\r\n        dispatch(actionsMessages.isDialogsFetchingAC(true))\r\n        dispatch(actionsMessages.setGetDialogsError(''))\r\n\r\n        DialogsAPI.getDialogs().then((data: any) => {\r\n            if (data.status === 200) dispatch(actionsMessages.getDialogsAC(data.data))\r\n        }).catch(() => {\r\n            dispatch(actionsMessages.setGetDialogsError('Network error'))\r\n        }).finally(() => {\r\n            dispatch(actionsMessages.isDialogsFetchingAC(false))\r\n        });\r\n    }\r\n}\r\n\r\nexport const getMessagesThunkCreator = (id: number) => {\r\n    return (dispatch: any) => {\r\n        dispatch(actionsMessages.setGetMessagesError(''))\r\n        dispatch(actionsMessages.setIsDialogFetching(true))\r\n        DialogsAPI.getMessages(id).then((data: any) => {\r\n            if (data.status === 200) dispatch(actionsMessages.getMessagesAC(data.data))\r\n        }).catch(() => {\r\n            dispatch(actionsMessages.setGetMessagesError('Network error'))\r\n        }).finally(() => {\r\n            dispatch(actionsMessages.setIsDialogFetching(false))\r\n        });\r\n    }\r\n}\r\n\r\nexport const sendMessagesThunkCreator = (id: number, body: string) => {\r\n    return (dispatch: any) => {\r\n        DialogsAPI.sendMessage(id, body).then((data: any) => {\r\n            dispatch(actionsMessages.addMessageAC(data.data.message))\r\n        }).catch(() => {\r\n            message.error('Cannot send message')\r\n        })\r\n    }\r\n}\r\n\r\nexport const startChatingThunkCreator = (id: number) => {\r\n    return (dispatch: any) => {\r\n        DialogsAPI.startChating(id).then((data: any) => {\r\n            DialogsAPI.getDialogs().then((data: any) => {\r\n                dispatch(actionsMessages.setRedirectedToDialog(true));\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const deleteMessageThunkCreator = (messageId: string) => {\r\n    return (dispatch: any) => {\r\n        DialogsAPI.deleteMessage(messageId).then((response: any) => {\r\n            if(response.status === 200) dispatch(actionsMessages.deleteMessage(messageId))\r\n\r\n        }).catch(() => {\r\n            message.error('Cannot delete message')\r\n        })\r\n    }\r\n}\r\n\r\nexport default messageReducer;\r\n\r\nexport type initialMessageType = typeof initialMessage;\r\ntype ActionTypes = InferActionsTypes<typeof actionsMessages>","import {AppStateType, InferActionsTypes} from './stateRedux';\r\nimport {Dispatch} from 'redux';\r\nimport {UserT} from '../interfaces/users-interfaces';\r\nimport { UsersAPI } from '../api/users-api';\r\nimport {IFilters} from '../interfaces/common-interfaces';\r\nimport {message} from 'antd';\r\n\r\n\r\nlet initialUsers = {\r\n    users: [] as Array<UserT>,\r\n    pageSize: 9,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    currentPagePagitator: 0,\r\n    isFetching: true,\r\n    followProcess: [] as Array<number>,\r\n    foundedUsers: [] as Array<UserT>,\r\n    error: '' as string,\r\n};\r\n\r\nconst usersReducer = (state = initialUsers, action: ActionTypes): InitialUsersT => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        let uc = {...u, followed: true};\r\n\r\n                        return uc;\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            }\r\n\r\n        case 'SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n\r\n        case 'SET_TOTAL_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n\r\n            }\r\n\r\n        case 'TOGGLE_IS_FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case 'TOGGLE_FOLLOW_IN_PROCESS':\r\n            return {\r\n                ...state,\r\n                followProcess: action.isFetchingFollow ?\r\n                    [...state.followProcess, action.userID] : state.followProcess.filter(id => id !== action.userID)\r\n            }\r\n\r\n        case 'SET_CURRENT_PAGE_PAGITATOR':\r\n            return {\r\n                ...state,\r\n                currentPagePagitator: action.payload\r\n            }\r\n        case 'SET_FOUNDED_USERS': {\r\n            return {\r\n                ...state,\r\n                foundedUsers: action.items\r\n            }\r\n        }\r\n\r\n        case 'SET_ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const UsersActions = {\r\n    follow: (userID: number) => ({type: 'FOLLOW', userID} as const),\r\n    unfollow: (userID: number) => ({type: 'UNFOLLOW', userID} as const),\r\n    setUsers: (users: Array<UserT>) => ({type: 'SET_USERS', users} as const),\r\n    setCurrentPage: (page: number) => ({type: 'SET_CURRENT_PAGE', page} as const),\r\n    setTotalCount: (count: number) => ({type: 'SET_TOTAL_USERS_COUNT', count} as const),\r\n    ToggleFetching: (isFetching: boolean) => ({type: 'TOGGLE_IS_FETCHING', isFetching} as const),\r\n    toggleFollowProcessing: (userID: number, isFetchingFollow: boolean) => ({\r\n        type: 'TOGGLE_FOLLOW_IN_PROCESS',\r\n        userID,\r\n        isFetchingFollow\r\n    } as const),\r\n    setCurrentPagePagitator: (payload: number) => ({type: 'SET_CURRENT_PAGE_PAGITATOR', payload} as const),\r\n    setFoundedUsers: (items: Array<UserT>) => ({type: 'SET_FOUNDED_USERS', items} as const),\r\n    setError: (error: string) => ({type: 'SET_ERROR', error} as const)\r\n}\r\n\r\n\r\n//Первый вариант типизации санки\r\ntype getStateType = () => AppStateType\r\ntype currentDispatchType = Dispatch<ActionTypes>\r\n\r\nexport const setUsersThunkCreator = (currentPage: number, pageSize: number, filters: IFilters) => {\r\n    return (dispatch: currentDispatchType, getState: getStateType) => {\r\n        dispatch(UsersActions.setError(''))\r\n        dispatch(UsersActions.setCurrentPage(currentPage));\r\n        dispatch(UsersActions.ToggleFetching(true));\r\n        UsersAPI.getUsers(currentPage, pageSize, filters).then((data: any) => {\r\n            dispatch(UsersActions.setUsers(data.items));\r\n            dispatch(UsersActions.setTotalCount(data.totalCount));\r\n        }).catch(() => {\r\n            dispatch(UsersActions.setError('Network error'))\r\n        }).finally(() => {\r\n            dispatch(UsersActions.ToggleFetching(false));\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const followThunkCreator = (userID: number) => {\r\n    return (dispatch: currentDispatchType) => {\r\n        dispatch(UsersActions.toggleFollowProcessing(userID, true));\r\n\r\n        UsersAPI.followAPI(userID).then((data: any) => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(UsersActions.follow(userID))\r\n                // dispatch(setFollowAC(true))\r\n            }\r\n\r\n        }).catch(() => {\r\n            message.error('Cannot follow')\r\n        }).finally(() => {\r\n            dispatch(UsersActions.toggleFollowProcessing(userID, false))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const unfollowThunkCreator = (userID: number) => {\r\n    return (dispatch: currentDispatchType, getState: getStateType) => {\r\n        dispatch(UsersActions.toggleFollowProcessing(userID, true));\r\n        UsersAPI.unfollowAPI(userID).then((data: any) => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(UsersActions.unfollow(userID))\r\n            }\r\n\r\n        }).catch(() => {\r\n            message.error('Cannot unfollow')\r\n        }).finally(() => {\r\n            dispatch(UsersActions.toggleFollowProcessing(userID, false))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n\r\nexport type InitialUsersT = typeof initialUsers;\r\ntype ActionTypes = InferActionsTypes<typeof UsersActions>;\r\n","import { instance } from './api';\r\nimport {IBaseResponse, IResponseWithCaptcha} from '../interfaces/common-interfaces';\r\nimport {ICaptcha, ILogin, LoginResponseDataType} from '../interfaces/login-interfaces';\r\n\r\nexport let AuthAPI = {\r\n    getLogin() {\r\n        return instance.get<IBaseResponse<ILogin>>('auth/me').then(response => response.data);\r\n    },\r\n\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<IResponseWithCaptcha<LoginResponseDataType>>('auth/login', {email, password, rememberMe, captcha});\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete<IBaseResponse>('auth/login').then(response => response.data);\r\n    },\r\n\r\n    getSecureCaptcha () {\r\n        return instance.get<ICaptcha>('security/get-captcha-url').then(response => response.data);\r\n    }\r\n\r\n};","var _rect, _rect2, _rect3, _rect4, _rect5;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreloader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    x: \"0px\",\n    y: \"0px\",\n    stroke: \"#0078D4\",\n    fill: \"#0078D4\",\n    height: 60,\n    width: 60,\n    viewBox: \"0 0 100 100\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#0078D4\",\n    width: 4,\n    height: 100,\n    transform: \"translate(0) rotate(180 3 50)\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    attributeType: \"XML\",\n    dur: \"1s\",\n    values: \"30; 100; 30\",\n    repeatCount: \"indefinite\"\n  }))), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 17,\n    fill: \"#0078D4\",\n    width: 4,\n    height: 100,\n    transform: \"translate(0) rotate(180 20 50)\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    attributeType: \"XML\",\n    dur: \"1s\",\n    values: \"30; 100; 30\",\n    repeatCount: \"indefinite\",\n    begin: \"0.1s\"\n  }))), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 40,\n    fill: \"#0078D4\",\n    width: 4,\n    height: 100,\n    transform: \"translate(0) rotate(180 40 50)\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    attributeType: \"XML\",\n    dur: \"1s\",\n    values: \"30; 100; 30\",\n    repeatCount: \"indefinite\",\n    begin: \"0.3s\"\n  }))), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 60,\n    fill: \"#0078D4\",\n    width: 4,\n    height: 100,\n    transform: \"translate(0) rotate(180 58 50)\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    attributeType: \"XML\",\n    dur: \"1s\",\n    values: \"30; 100; 30\",\n    repeatCount: \"indefinite\",\n    begin: \"0.5s\"\n  }))), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 80,\n    fill: \"#0078D4\",\n    width: 4,\n    height: 100,\n    transform: \"translate(0) rotate(180 76 50)\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    attributeType: \"XML\",\n    dur: \"1s\",\n    values: \"30; 100; 30\",\n    repeatCount: \"indefinite\",\n    begin: \"0.1s\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreloader);\nexport default __webpack_public_path__ + \"static/media/preloader.aeed75de.svg\";\nexport { ForwardRef as ReactComponent };","import {stopSubmit} from 'redux-form';\r\nimport {nullable, ResultCodeForCaptcha, ResultsCodes} from '../interfaces/common-interfaces';\r\nimport {InferActionsTypes} from './stateRedux';\r\nimport {ProfileType} from '../interfaces/profile-interfaces';\r\nimport {AuthAPI} from '../api/auth-api';\r\nimport {ProfileAPI} from '../api/profile-api';\r\n\r\n\r\nlet initState = {\r\n    id: null as nullable<number>,\r\n    email: null as nullable<string>,\r\n    login: null as nullable<string>,\r\n    isLogined: false,\r\n    captchaURL: '',\r\n    profile: null as nullable<ProfileType>\r\n}\r\n\r\nconst loginReducer = (state = initState, action: ActionsType): InitLoginStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_USER_LOGIN':\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                id: action.data.id,\r\n            }\r\n\r\n        case 'SET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                captchaURL: action.URL\r\n            }\r\n\r\n        case 'SET_OWN_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nconst actionsLogin = {\r\n    setUserLoginAC: (id: nullable<number>, login: nullable<string>, email: nullable<string>, isLogined: boolean) => {\r\n        return ({type: 'SET_USER_LOGIN', data: {id, login, email, isLogined}} as const)\r\n    },\r\n\r\n    setCaptchaUrlAC: (URL: string) => ({type: 'SET_CAPTCHA_URL', URL} as const),\r\n\r\n    setProfileAC: (profile: nullable<ProfileType>) => ({type: 'SET_OWN_PROFILE', profile} as const)\r\n}\r\n\r\n\r\nexport let loginThunkCreator = () => {\r\n    return (dispatch: any) => {\r\n        return AuthAPI.getLogin().then((response: any) => {\r\n            if (response.resultCode === ResultsCodes.Success) {\r\n                let {id, login, email} = response.data;\r\n                dispatch(actionsLogin.setUserLoginAC(id, login, email, true));\r\n\r\n                ProfileAPI.getProfile(id).then((response: any) => {\r\n                    dispatch(actionsLogin.setProfileAC(response.data));\r\n                })\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\nexport let getCaptchaThunkCreator = () => {\r\n    return (dispatch: any) => {\r\n        AuthAPI.getSecureCaptcha().then((response) => {\r\n            dispatch(actionsLogin.setCaptchaUrlAC(response.url))\r\n        })\r\n    }\r\n}\r\n\r\nexport let login = (email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) => {\r\n    return (dispatch: any) => {\r\n        AuthAPI.login(email, password, rememberMe, captcha).then((response) => {\r\n            if (response.data.resultCode === ResultsCodes.Success) {\r\n                dispatch(loginThunkCreator())\r\n\r\n            } else if (response.data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n                dispatch(getCaptchaThunkCreator());\r\n\r\n                let action = stopSubmit('login', {_error: response.data.messages.join(' ')})\r\n                dispatch(action)\r\n\r\n            } else {\r\n                let action = stopSubmit('login', {_error: response.data.messages.join(' ')})\r\n                dispatch(action)\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport let logout = () => {\r\n    return (dispatch: any) => {\r\n        AuthAPI.logout().then((response) => {\r\n            if (response.resultCode === ResultsCodes.Success) {\r\n                window.location.reload();\r\n                dispatch(actionsLogin.setUserLoginAC(null, null, null, false))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default loginReducer;\r\n\r\ntype ActionsType = InferActionsTypes<typeof actionsLogin>\r\nexport type InitLoginStateType = typeof initState;\r\n","import {loginThunkCreator} from './loginReducer';\r\nimport {AppStateType, InferActionsTypes} from './stateRedux';\r\n\r\n\r\nlet initState = {\r\n   initialized: false,\r\n   blackTheme: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initState, action: ActionsType): AppInitStateT => {\r\n    switch(action.type){\r\n        case 'SET_INITIALIZED':\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n\r\n        case 'CHANGE_THEME':\r\n            localStorage.setItem('theme', JSON.stringify(!state.blackTheme))\r\n            return {\r\n                ...state,\r\n                blackTheme: !state.blackTheme\r\n            }\r\n\r\n\r\n        default: return state\r\n        \r\n    }\r\n}\r\n\r\nexport const actionsApp = {\r\n    setInitializedAC: () => ({type: 'SET_INITIALIZED'} as const),\r\n    ChangeThemeAC: () => ({type: 'CHANGE_THEME'} as const)\r\n}\r\n\r\n\r\nexport let initializeApp = () => {\r\n    return (dispatch: any, getState: () => AppStateType) => {\r\n        let isBlack = getState().app.blackTheme\r\n        let theme = localStorage.getItem('theme')\r\n        if(theme !== String(isBlack)) dispatch(actionsApp.ChangeThemeAC())\r\n\r\n        let promise = dispatch(loginThunkCreator());\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(actionsApp.setInitializedAC())\r\n        });\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n\r\n\r\ntype ActionsType = InferActionsTypes<typeof actionsApp>\r\nexport type AppInitStateT = typeof initState\r\n","import {InferActionsTypes} from './stateRedux';\r\nimport { DialogsAPI } from '../api/dialogs-api';\r\nimport {message} from 'antd';\r\n\r\nconst initialNotification = {\r\n    newMessageCount: 0 as number | string,\r\n}\r\n\r\nconst notificationReducer = (state = initialNotification, action: ActionsType): initialNotificationT => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_NEW_MESSAGE_COUNT':\r\n            return {\r\n                ...state,\r\n                newMessageCount: action.payload < 100 ? action.payload : '99+'\r\n            }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst actionsNotifications = {\r\n    setNewMessageCount: (payload: number) => ({type: 'SET_NEW_MESSAGE_COUNT', payload} as const)\r\n}\r\n\r\nexport const getNewMessageCountThunkCreator = () => {\r\n    return (dispatch: any) => {\r\n        DialogsAPI.getMessageCount().then((data: any) => {\r\n            dispatch(actionsNotifications.setNewMessageCount(data.data))\r\n        }).catch(() => {\r\n            message.info('Cannot get notifications')\r\n        })\r\n    }\r\n}\r\n\r\nexport default notificationReducer;\r\n\r\n\r\ntype ActionsType = InferActionsTypes<typeof actionsNotifications>\r\nexport type initialNotificationT = typeof initialNotification;","import profileReducer from './profileReducer';\r\nimport messageReducer from './messageReducer';\r\nimport {Action, combineReducers, compose, createStore} from 'redux';\r\nimport usersReducer from './usersReducer';\r\nimport loginReducer from './loginReducer'\r\nimport {applyMiddleware} from 'redux';\r\nimport thunkMiddleWare, {ThunkAction} from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport notificationReducer from './notificationReducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    ProfilePage: profileReducer,\r\n    MessagePage: messageReducer,\r\n    UsersReducer: usersReducer,\r\n    LoginReducer: loginReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    notification: notificationReducer\r\n})\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\ntype PropertiesType<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActionsTypes<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertiesType<T>>\r\n\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\n//window._market = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {WrappedFieldProps} from 'redux-form';\r\n\r\n\r\ntype InputFieldType = (params: WrappedFieldProps) => React.ReactNode\r\nexport const InputField: InputFieldType = ({input, meta, ...props}): any => {\r\n    let hasError = meta.error && meta.touched;\r\n\r\n    return (<div className={styles.InputContainer}>\r\n        <div>\r\n            <input {...props} {...input}/>\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>)\r\n}\r\n","export const required = (value: string): string | undefined => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxSymbols = (max: number) => (value: string): string | undefined => {\r\n    if (value && value.length > max) return `max size is ${max} symbols`;\r\n    return undefined;\r\n}","import styled from 'styled-components';\r\n\r\n\r\nexport const UniversalThemeComponent = styled.div`\r\n    background: ${props => (props.theme.mode === 'dark' ? '#2B2B2B' : '#ffffff')};\r\n    color: ${props => (props.theme.mode === 'dark' ? '#ffffff' : '#474B59;')};\r\n    \r\n    & h1, h2, h3, .tab {\r\n        color: ${props => (props.theme.mode === 'dark' ? '#ffffff' : '#474B59;')};\r\n    }\r\n   \r\n    & a {\r\n        color: ${props => (props.theme.mode === 'dark' ? '#ffffff' : '#474B59;')};\r\n    }\r\n\r\n    & a.active svg{\r\n        color: #2B5278;\r\n    }\r\n    \r\n    & svg {\r\n        color: ${props => (props.theme.mode === 'dark' ? '#ffffff' : '#474B59;')};\r\n    }\r\n`\r\n\r\nexport const HeaderStyle = styled(UniversalThemeComponent)`\r\n border-bottom: 1px solid ${props => (props.theme.mode === 'dark') ? '#3C3F41' : 'lightgray'};\r\n`\r\n\r\nexport const NavigationStyle = styled(UniversalThemeComponent)`\r\n    & a{\r\n         border-right: ${props => (props.theme.mode === 'dark' ? '1px solid #3C3F41' : '1px solid lightgray')};\r\n    }\r\n    \r\n    & a:first-child {\r\n            border-left: ${props => (props.theme.mode === 'dark' ? '1px solid #3C3F41' : '1px solid lightgray')};\r\n    }\r\n\r\n    & a.active{\r\n        background: ${props => (props.theme.mode === 'dark' ? '#202020' : '#f2f2f2')};\r\n    } \r\n`\r\n\r\nexport const AdaptiveNav = styled.div`\r\n     background: ${props => (props.theme.mode === 'dark' ? '#2B2B2B' : '#ffffff')};\r\n     border-top: 1px solid ${props => (props.theme.mode === 'dark') ? '#3C3F41' : 'lightgray'};\r\n     \r\n     & svg {\r\n           color: ${props => (props.theme.mode === 'dark' ? '#ffffff' : '#474B59;')};\r\n     }\r\n`\r\n\r\nexport const ProfileItemStyled = styled(UniversalThemeComponent)`\r\n    border: ${props => (props.theme.mode === 'dark' ? '1px solid #2B2B2B' : '1px solid lightgray;')};\r\n    svg {\r\n        color: #0078D4;\r\n    }\r\n`\r\n\r\nexport const UserOptionItemStyled = styled(UniversalThemeComponent)`\r\n    border: ${props => (props.theme.mode === 'dark' ? '1px solid #2B2B2B' : '1px solid lightgray;')};\r\n    \r\n    & > button {\r\n        border: none;\r\n        background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n        color: #fff;\r\n    }\r\n    \r\n    & > button:hover {\r\n        background: #2B5278;\r\n        color: #fff;\r\n    }\r\n    \r\n    & > button.ant-btn-primary {\r\n        background: #2B5278;\r\n    }\r\n`\r\n\r\nexport const PagitatorItemStyled = styled(ProfileItemStyled)`\r\n    & > button {\r\n        background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n    }\r\n    \r\n    & > button.navs {\r\n        background: #2B5278;\r\n    }\r\n    \r\n    & > button:disabled {\r\n        background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};;\r\n    }\r\n`\r\n\r\nexport const UserItemStyled = styled(ProfileItemStyled)`\r\n    & button {\r\n        color:  ${props => props.theme.mode === 'dark' ? '#fff' : '#2B2B2B'};\r\n    }\r\n    \r\n    & button.unfollow{\r\n        border: 1px solid #2B5278;\r\n        color: #fff;\r\n        background: #2B5278;\r\n    }\r\n\r\n    & button:disabled{\r\n        background: lightgrey;\r\n        border: 1px solid lightgrey;\r\n        color: #fff;\r\n    }\r\n`\r\n\r\nexport const PostsItemStyled = styled(ProfileItemStyled)`\r\n    & textarea {\r\n        background:  ${props => props.theme.mode === 'dark' ? '#2B2B2B' : '#fff'};\r\n        color:  ${props => (props.theme.mode === 'dark' ? '#fff' : '#000')};\r\n        margin-bottom: 10px;\r\n        border-radius: 0px;\r\n    }\r\n    \r\n    & .Content {\r\n        border-bottom: 1px solid ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n        border-top: 1px solid ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n    }\r\n`\r\n\r\nexport const LoginWrapStyled = styled(UniversalThemeComponent)`\r\n    border-top: 1px solid ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')}; \r\n    \r\n    & input {\r\n        background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n        border: none;\r\n    };\r\n    \r\n`\r\n\r\nexport const SettingStyled = styled(UniversalThemeComponent)`\r\n   & input {\r\n        background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')};\r\n        color: ${props => (props.theme.mode === 'dark' ? '#fff' : '#000')};\r\n        border: none;\r\n    };\r\n   \r\n`\r\n","import {AppStateType} from '../stateRedux';\r\n\r\n\r\nexport const getLoginSelector = (state: AppStateType) => (state.LoginReducer.login);\r\nexport const getIsLoginedSelector = (state: AppStateType) => (state.LoginReducer.isLogined);\r\nexport const getMyProfileSelector = (state: AppStateType) => (state.LoginReducer.profile);\r\nexport const getCaptchaSelector = (state: AppStateType) => (state.LoginReducer.captchaURL);\r\nexport const getMyIdSelector = (state: AppStateType) => (state.LoginReducer.id);","import React, {useEffect} from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport styles from './Login.module.css';\r\n\r\nimport {InputField} from '../common/formControls/FormControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {login} from '../../redux-state/loginReducer';\r\nimport {LoginWrapStyled} from '../../styles/theme';\r\nimport styled from 'styled-components';\r\nimport {getCaptchaSelector, getIsLoginedSelector} from '../../redux-state/selectors/login-selectors';\r\nimport {AliwangwangOutlined} from '@ant-design/icons';\r\n\r\nconst Background = styled.div`\r\n    width: 75%;\r\n    height: 100%;\r\n    background: url('https://image.freepik.com/free-vector/season-rain-blue-seamless-background_95169-905.jpg');\r\n`\r\n\r\ntype loginFormValuesType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\n\r\ntype LoginFormOwnProps = {\r\n    captcha: string | null\r\n}\r\n\r\nlet Form: React.FC<InjectedFormProps<loginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = ({\r\n                                                                                                         handleSubmit,\r\n                                                                                                         submitting,\r\n                                                                                                         error,\r\n                                                                                                         captcha\r\n                                                                                                     }) => {\r\n    return (<form className={styles.Form} onSubmit={handleSubmit}>\r\n        <div>\r\n            <div>\r\n                <h1><AliwangwangOutlined />Uface</h1>\r\n                <h2>Please sing up</h2>\r\n            </div>\r\n        </div>\r\n\r\n        <div className={styles.Input}>\r\n            <label>Enter your email <span>*</span></label>\r\n            <Field type={'text'} placeholder={'enter login'} component={InputField} validate={required} name={'email'}/>\r\n        </div>\r\n\r\n        <div className={styles.Input}>\r\n            <label>Enter your password<span>*</span></label>\r\n            <Field type={'password'} placeholder={'enter password'} component={InputField} validate={required}\r\n                   name={'password'}/>\r\n        </div>\r\n\r\n        <div className={styles.RememberMe}>\r\n            <Field type={'checkbox'} component={'input'} name={'rememberMe'}/> Remember me\r\n        </div>\r\n\r\n\r\n        {captcha && <div className={styles.Captcha}>\r\n            <img src={captcha} alt=\"captcha\"/>\r\n            <Field type={'text'}\r\n                   placeholder={'enter captcha'}\r\n                   component={InputField}\r\n                   name={'captcha'}/>\r\n        </div>}\r\n\r\n        {error && <div className={styles.Error}>{error}</div>}\r\n\r\n        <div>\r\n            <button type=\"submit\" disabled={submitting}>Login in</button>\r\n        </div>\r\n\r\n    </form>)\r\n}\r\n\r\nlet ReduxLoginForm = reduxForm<loginFormValuesType, LoginFormOwnProps>({form: 'login'})(Form)\r\n\r\n\r\nexport const Login = () => {\r\n    useEffect(() => {\r\n        document.title = 'Login';\r\n    }, [])\r\n\r\n    const isLogined = useSelector(getIsLoginedSelector)\r\n    const captcha = useSelector(getCaptchaSelector)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    let onSubmit = (loginData: loginFormValuesType) => {\r\n        dispatch(login(loginData.email, loginData.password, loginData.rememberMe, loginData.captcha))\r\n    }\r\n\r\n    if (isLogined) {\r\n        return <Redirect to=\"/profile\"/>\r\n    }\r\n\r\n    return (<div className={styles.Login}>\r\n                <Background className={styles.Photo}/>\r\n\r\n                <LoginWrapStyled className={styles.LoginForm}>\r\n                    <ReduxLoginForm onSubmit={onSubmit} captcha={captcha}/>\r\n                </LoginWrapStyled>\r\n            </div>)\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport {ReactComponent as PreloaderSVG} from '../../../img/common/preloader.svg';\r\n\r\nconst Preloader: React.FC = () => {\r\n    return (<div className=\"preloader\">\r\n                <div>\r\n                    <PreloaderSVG/>\r\n                </div>\r\n            </div>)\r\n}\r\n\r\nexport default Preloader","import {AppStateType} from '../stateRedux';\r\n\r\nexport const getNewMessagesCountSelector = (state: AppStateType) => (state.notification.newMessageCount)","export default __webpack_public_path__ + \"static/media/avatar.b03c02f4.png\";","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport AvatarImg from '../../../img/Profile/avatar.png';\r\n\r\n\r\ntype avatarTypes = {\r\n    link: string | null,\r\n    size: number,\r\n}\r\n\r\nconst AvatarStyled = styled.div<avatarTypes>`\r\n    border-radius: 50%;\r\n    height: ${props => props.size}px;\r\n    width: ${props => props.size}px;\r\n    background: url('${props => props.link ? props.link : AvatarImg}');\r\n    background-size: cover;\r\n    display: inline-block;\r\n    margin: 0px 10px;\r\n    border: ${props => (props.theme.mode === 'dark' ? '1px solid #2B2B2B' : '1px solid lightgray;')};\r\n`\r\n\r\nexport const Avatar: React.FC<avatarTypes> = ({link, size}) => (<AvatarStyled link={link} size={size}/>)","import React, {useState} from 'react'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport styled from 'styled-components';\r\nimport headermod from './adaptiveNav.module.css';\r\nimport Navmod from './nav.module.css';\r\n\r\nimport {AdaptiveNav, UniversalThemeComponent} from '../../styles/theme'\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getIsLoginedSelector, getMyProfileSelector} from '../../redux-state/selectors/login-selectors';\r\nimport {getNewMessagesCountSelector} from '../../redux-state/selectors/notification-selector';\r\nimport { logout } from '../../redux-state/loginReducer';\r\nimport {actionsApp} from '../../redux-state/appReducer';\r\nimport {\r\n    IdcardOutlined,\r\n    LogoutOutlined, MenuUnfoldOutlined,\r\n    MessageOutlined,\r\n    SettingOutlined, SwapOutlined,\r\n    UsergroupAddOutlined\r\n} from '@ant-design/icons';\r\nimport {Avatar} from '../assets/avatar/avatar';\r\nimport AvatarImg from '../../img/Profile/avatar.png';\r\n\r\nexport const SwitchButton = styled.button`\r\n    background: none;\r\n    outline: none;\r\n    border: none;\r\n    \r\n    & svg {\r\n        color: #0078D4;\r\n    }\r\n`\r\nexport const FullScreenMenu: React.FC<{setIsFullScreen: Function}> = ({setIsFullScreen}) => {\r\n    const profile = useSelector(getMyProfileSelector)\r\n    const newMessageCount = useSelector(getNewMessagesCountSelector)\r\n    const dispatch = useDispatch()\r\n\r\n    return <UniversalThemeComponent className={headermod.fullScreen}>\r\n                <div className={headermod.fullScreenWrap}>\r\n                    <div>\r\n                        <h2>{profile?.fullName}</h2>\r\n                        <Avatar link={profile?.photos.small || AvatarImg} size={70}/>\r\n                        <MenuUnfoldOutlined\r\n                            className={headermod.closeFullScreen}\r\n                            onClick={() => setIsFullScreen(false)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={headermod.fullScreenMenuItems} >\r\n                        <div className={headermod.adaptiveMenu} onClick={() => setIsFullScreen(false)}>\r\n                            <NavLink to=\"/profile\" activeClassName={Navmod.activeLink}>\r\n                                <IdcardOutlined />\r\n                                Profile\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div className={headermod.adaptiveMenu} onClick={() => setIsFullScreen(false)}>\r\n                            <NavLink to=\"/friends\" activeClassName={Navmod.activeLink}>\r\n                                <UsergroupAddOutlined />\r\n                                Users\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div className={headermod.adaptiveMenu + ' ' + headermod.messages} onClick={() => setIsFullScreen(false)}>\r\n                            <NavLink to='/dialogs'>\r\n                                <MessageOutlined />\r\n                                Messages\r\n                            </NavLink>\r\n                            {newMessageCount ? <div className={headermod.newMessageCount}>{newMessageCount}</div> : null}\r\n                        </div>\r\n\r\n                        <div className={headermod.adaptiveMenu} onClick={() => setIsFullScreen(false)}>\r\n                            <NavLink to=\"/setting\" activeClassName={Navmod.activeLink}>\r\n                                <SettingOutlined />\r\n                                Settings\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div className={headermod.adaptiveMenu} onClick={() => setIsFullScreen(false)}>\r\n                            <SwitchButton onClick={() => dispatch(actionsApp.ChangeThemeAC())}>\r\n                                <SwapOutlined /> Change theme\r\n                            </SwitchButton>\r\n                        </div>\r\n\r\n                        <div className={headermod.logout} onClick={() => dispatch(logout())}>\r\n                            <LogoutOutlined/> Logout\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           </UniversalThemeComponent>\r\n}\r\n\r\nexport const AdaptiveMenu: React.FC = () => {\r\n    const isLogined = useSelector(getIsLoginedSelector)\r\n    const newMessageCount = useSelector(getNewMessagesCountSelector)\r\n    const [isFullScreen, setIsFullScreen] = useState(false)\r\n\r\n    if(!isLogined) return null\r\n\r\n    return (<AdaptiveNav className={headermod.adaptivemenu}>\r\n        {isFullScreen && <FullScreenMenu setIsFullScreen={setIsFullScreen}/>}\r\n\r\n        <div className={headermod.adaptiveMenu} >\r\n            <NavLink to=\"/friends\" activeClassName={Navmod.activeLink}>\r\n                <UsergroupAddOutlined /></NavLink>\r\n        </div>\r\n\r\n        <div className={headermod.adaptiveMenu + ' ' + headermod.messages}>\r\n            <NavLink to='/dialogs'>\r\n                <MessageOutlined />\r\n            </NavLink>\r\n            {newMessageCount ? <div className={headermod.newMessageCount}>{newMessageCount}</div> : null}\r\n        </div>\r\n\r\n        <div className={headermod.adaptiveMenu}>\r\n            <NavLink to=\"/profile\" activeClassName={Navmod.activeLink}><IdcardOutlined /></NavLink>\r\n        </div>\r\n\r\n        <div className={headermod.adaptiveMenu + \" \" + headermod.menu} onClick={() => setIsFullScreen(true)}>\r\n            <MenuUnfoldOutlined />\r\n        </div>\r\n    </AdaptiveNav>)\r\n}\r\n","import {AppStateType} from '../stateRedux';\r\n\r\nexport const getIsBlackSelector = (state: AppStateType) => (state.app.blackTheme)\r\nexport const getInitializedSelector = (state: AppStateType) => (state.app.initialized)","import {createSelector} from 'reselect';\r\nimport {AppStateType} from '../stateRedux';\r\n\r\n\r\nexport const getDialogsSelector = (state: AppStateType) => state.MessagePage.dialogs;\r\nexport const getMessagesSelector = (state: AppStateType) => state.MessagePage.messages;\r\nexport const getIsDialogsFetching = (state: AppStateType) => state.MessagePage.isDialogsFetching\r\nexport const getIsMessagesFetching = (state: AppStateType) => state.MessagePage.isDialogFetching\r\nexport const getDialogsError = (state: AppStateType) => state.MessagePage.getDialogsError\r\nexport const getMessagesError = (state: AppStateType) => state.MessagePage.getMessagesError\r\n\r\nexport const getDialogInfoSelector = createSelector(\r\n    (state => state.MessagePage.dialogs),\r\n    (_: AppStateType, id: string) => id,\r\n    (dialogs, id) => dialogs?.filter(dialog => String(dialog.id) === id)\r\n)","export let getCorrectTime = (date: Date) => {\r\n    let x = new Date();\r\n    let timeZone = x.getTimezoneOffset() / 60;\r\n    let temp = (new Date(date)).getTime() - timeZone * 3.6e+6\r\n    return new Date(temp).toString().slice(0, 21)\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport {SyncOutlined} from '@ant-design/icons';\r\nimport {Button} from 'antd';\r\n\r\ntype OwnPropsType = {\r\n    refresh: Function\r\n}\r\n\r\nconst Wrap = styled.div`\r\n    margin-top: 30%;\r\n    text-align: center;\r\n    color: ${props => props.theme.mode === 'dark' ? '#fff' : '#000'};\r\n    font-size: 16px;\r\n    \r\n    & svg{\r\n       color: #2B5278;\r\n       font-size: 40px; \r\n       margin: 10px 0px;\r\n    }\r\n`\r\n\r\nexport const NetworkError: React.FC<OwnPropsType> = ({refresh}) =>\r\n    (<Wrap>\r\n        <div>\r\n            <SyncOutlined />\r\n        </div>\r\n        <p>Cannot load page</p>\r\n\r\n        <Button size={'large'} onClick={() => refresh()}>Refresh</Button>\r\n    </Wrap>)","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport MessagesStyle from \"./Messages.module.css\";\r\nimport {deleteMessageThunkCreator, getMessagesThunkCreator} from '../../../../redux-state/messageReducer';\r\nimport styled from \"styled-components\";\r\nimport {\r\n    getIsMessagesFetching,\r\n    getMessagesError,\r\n    getMessagesSelector\r\n} from '../../../../redux-state/selectors/message-selectors';\r\nimport {getIsBlackSelector} from '../../../../redux-state/selectors/app-selectors';\r\nimport {getMyIdSelector} from '../../../../redux-state/selectors/login-selectors';\r\n\r\nimport { Spin } from 'antd';\r\nimport {DeleteOutlined, EllipsisOutlined, LoadingOutlined} from '@ant-design/icons';\r\nimport {getCorrectTime} from '../../../../utils/date-formater';\r\nimport { Menu, Dropdown } from 'antd';\r\nimport {NetworkError} from '../../../common/NetworkError/NetworkError';\r\n\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 40 }} spin />;\r\n\r\nconst MessageWrap = styled.div`\r\n    background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n`\r\n\r\nconst Dots = styled(EllipsisOutlined)`\r\n    color: ${props => (props.theme.mode === 'dark') ? '#fff': '#000'}\r\n`\r\n\r\nconst Error = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n`\r\n\r\n\r\nconst Message = (props) => {\r\n    const messageMenu = (\r\n        <Menu>\r\n            <Menu.Item key=\"0\" style={{color: 'red'}} onClick={() => props.deleteMessage(props.messageId)}>\r\n                Delete it <DeleteOutlined />\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <div\r\n            className={MessagesStyle.messageItem + \" \" + (props.myId === props.senderId ? MessagesStyle.isMy : \"\")}\r\n        >\r\n            <div className={MessagesStyle.messageItemLogo}></div>\r\n            {props.mail}\r\n            <span className={MessagesStyle.data}>{getCorrectTime(props.addedAt)}</span>\r\n            <Dropdown overlay={messageMenu} trigger={['click']}>\r\n                <Dots className={MessagesStyle.messageActions}/>\r\n            </Dropdown>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Messages = ({dialogId}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const messagesData = useSelector(getMessagesSelector)\r\n    const isBlack = useSelector(getIsBlackSelector)\r\n    const myId = useSelector(getMyIdSelector)\r\n    const isMessageFetching = useSelector(getIsMessagesFetching)\r\n    const error = useSelector(getMessagesError)\r\n\r\n    useEffect(() => {\r\n        dispatch(getMessagesThunkCreator(dialogId))\r\n    }, [dialogId, dispatch])\r\n\r\n    const deleteMessage = (messageId) => {\r\n        dispatch(deleteMessageThunkCreator(messageId))\r\n    }\r\n\r\n\r\n    const messages = messagesData.items.map(messageItem => <Message mail={messageItem.body}\r\n                                                                             key={messageItem.id}\r\n                                                                             messageId = {messageItem.id}\r\n                                                                             addedAt={messageItem.addedAt}\r\n                                                                             senderId={messageItem.senderId}\r\n                                                                             myId={myId}\r\n                                                                             deleteMessage={deleteMessage}\r\n\r\n\r\n    />).reverse()\r\n\r\n    return   <Spin spinning={isMessageFetching} indicator={antIcon}>\r\n                <MessageWrap className={MessagesStyle.messages} black={isBlack}>\r\n                    {!error && messages}\r\n                    {error && <Error><NetworkError refresh={() => dispatch(getMessagesThunkCreator(dialogId))}/></Error>}\r\n                </MessageWrap>\r\n            </Spin>\r\n}","export default __webpack_public_path__ + \"static/media/notFound.7f91e71d.gif\";","import React from 'react';\r\nimport notFound from '../../img/Preloader/notFound.gif'\r\n\r\n\r\nclass NotFound extends React.Component {\r\n    componentDidMount() {\r\n        document.title = 'Not found';\r\n    }\r\n\r\n    render() {\r\n        return (<div style={{textAlign: 'center', marginTop: '40px'}}>\r\n                    <img src={notFound} alt=\"Not found\"/>\r\n                    <h2>404 Not Found</h2>\r\n                </div>)\r\n\r\n    }\r\n}\r\n\r\nexport default NotFound;","import React, {useState} from 'react';\r\nimport MyPost from \"../../Profile/MyPosts/MyPosts.module.css\";\r\nimport DialogMod from \"./DialogWithUser.module.css\";\r\nimport {NavLink, useParams} from \"react-router-dom\";\r\nimport Avatar from \"../../../img/Profile/avatar.png\";\r\nimport {Messages} from \"./Messages/Messages\";\r\nimport styled from \"styled-components\";\r\nimport {CloseCircleOutlined, MessageOutlined, SendOutlined} from '@ant-design/icons';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getIsBlackSelector} from '../../../redux-state/selectors/app-selectors';\r\nimport {getDialogInfoSelector} from '../../../redux-state/selectors/message-selectors';\r\nimport {sendMessagesThunkCreator} from '../../../redux-state/messageReducer';\r\nimport NotFound from '../../404/notFound';\r\n\r\n\r\nconst DialogStyled = styled.div`\r\n    background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n    margin-left: 5px\r\n`\r\n\r\nconst DialogHeader = styled.div`\r\n    background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n    border-bottom: 1px solid ${props => (props.black ? '#3C3F41' : 'lightgray')};\r\n    \r\n    & h3 {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n \r\n    & h1 {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n    \r\n    & .last {\r\n        color: ${props => (props.black ? '#fff' : 'gray;')};\r\n    }\r\n`\r\n\r\nconst MessageEditor = styled.div`\r\n    border-top: 1px solid ${props => (props.black ? '#3C3F41' : 'lightgray')};\r\n    background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n    \r\n    & textarea{\r\n        background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n        color: ${props => (props.black ? '#fff' : '#000')};\r\n    }\r\n    \r\n    & svg {\r\n        color: #0078D4;\r\n    }\r\n`\r\n\r\nconst ChooseDialog = styled.div`\r\n    color: #fff;\r\n    font-size: 24px;\r\n    text-align: center;\r\n    flex-grow: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #1890ff;\r\n    \r\n    & svg {\r\n        margin-bottom: 10px;\r\n        font-size: 4em;\r\n    }\r\n`\r\nexport const NoDialogSelected = (<ChooseDialog>\r\n                                    <div>\r\n                                        <MessageOutlined />\r\n                                        <p>Choose Dialog</p>\r\n                                    </div>\r\n                                </ChooseDialog>)\r\n\r\n\r\nexport const Dialog = () => {\r\n    const dispatch = useDispatch()\r\n    const {userID} = useParams()\r\n    const [message, setMessageText] = useState('')\r\n\r\n    const isBlack = useSelector(getIsBlackSelector)\r\n    const dialogUserData = useSelector((state) => getDialogInfoSelector(state, userID))\r\n\r\n    if(!userID) return NoDialogSelected\r\n\r\n    if(!dialogUserData[0]) return <NotFound/>\r\n\r\n\r\n\r\n    return (<DialogStyled className={DialogMod.dialogWithUser} black={isBlack}>\r\n                <DialogHeader className={DialogMod.dialogHeader} black={isBlack}>\r\n                    <img src={dialogUserData[0]?.photos.small || dialogUserData[0]?.photos.large || Avatar}\r\n                         alt=\"avatar\"\r\n                         className={DialogMod.Dialogavatar}\r\n                    />\r\n\r\n                    <div>\r\n                        <NavLink to={\"/profile/\"+userID}><h3>{dialogUserData[0].userName}</h3></NavLink>\r\n                        <div className={DialogMod.status  + \" last\"}>\r\n                            Was online: {dialogUserData[0]?.lastUserActivityDate.split(\"T\").join(\" \").slice(0, 16)}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={DialogMod.backToDialogList}>\r\n                        <NavLink to=\"/dialogs\">\r\n                            <CloseCircleOutlined />\r\n                        </NavLink>\r\n                    </div>\r\n                </DialogHeader>\r\n\r\n                <Messages dialogId={userID}/>\r\n\r\n\r\n                <MessageEditor className={DialogMod.createNewMessage} black={isBlack}>\r\n                    <textarea name={\"newMessage\"} placeholder={\"New message\"}\r\n                              value={message}\r\n                              onKeyPress={event => {\r\n                                  if(event.key === 'Enter' && message !== ''){\r\n                                      event.preventDefault()\r\n                                      dispatch(sendMessagesThunkCreator(userID, message))\r\n                                      setMessageText('')\r\n                                  }\r\n                              }}\r\n                              onChange={(e) => setMessageText(e.target.value)}\r\n                              />\r\n\r\n                    <div className={DialogMod.createNewMessageAcivities}>\r\n                        <button\r\n                            className={MyPost.button + \" \" + MyPost.send}\r\n                            onClick={() =>{\r\n                                setMessageText(\"\")\r\n                                dispatch(sendMessagesThunkCreator(userID, message))\r\n                            }}\r\n                            disabled={message.trim() === \"\"}><SendOutlined /></button>\r\n                    </div>\r\n                </MessageEditor>\r\n             </DialogStyled>);\r\n\r\n};\r\n","import React, {useState} from 'react';\r\nimport DialogsStyles from \"./DialogsList.module.css\";\r\nimport Avatar from \"../../../img/Profile/avatar.png\";\r\nimport styled from \"styled-components\";\r\nimport {SearchOutlined} from '@ant-design/icons';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\n\r\nconst DialogListStyled = styled.div`\r\n    background: ${props => (props.black ? '#2B2B2B' : '#ffffff')};\r\n    & input, p {\r\n        color: ${props => (props.black ? '#fff' : '#000')};\r\n    }\r\n\r\n    && a {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n    \r\n    & svg {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n    \r\n    & h1 {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n    \r\n    & h3 {\r\n        color: ${props => (props.black ? '#ffffff' : '#474B59;')};\r\n    }\r\n    \r\n    & h1 svg {\r\n        color: ${props => (props.black ? '#0078D4' : '#474B59;')};\r\n    }\r\n    \r\n    & .dialogListHeader {\r\n      position: relative;\r\n      border-bottom: 1px solid ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')}; \r\n    }\r\n    \r\n   .dialogListHeader>svg {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 15px;\r\n    }\r\n\r\n`\r\n\r\nconst DialogItemStyled = styled.li`\r\n    cursor: pointer;\r\n    border-bottom: 1px solid  ${props => (props.theme.mode === 'dark' ? '#3C3F41' : 'lightgray')}; \r\n    \r\n    \r\n    &:hover {\r\n        background: ${props => (props.theme.mode === 'dark' ? '#202020' : '#f2f2f2')}; \r\n    }\r\n`\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n\r\n    return (<DialogItemStyled className={DialogsStyles.DialogItem} onClick={() => props.history.push(path)}>\r\n                <div className={DialogsStyles.avatar}>\r\n                    <img src={props.photos.small || Avatar} alt={\"avatar\"}/>\r\n                </div>\r\n\r\n                <div className={DialogsStyles.dates}>\r\n                    <h3>{props.name}</h3>\r\n\r\n                    <div className={DialogsStyles.lastMessage}>\r\n                        <span>Last message: </span>{props.lastDialogActivityDate}\r\n                        {props.LastMessage}\r\n                    </div>\r\n                </div>\r\n\r\n                 {(props.newMessagesCount > 0) && <div className={DialogsStyles.newMessagesCount + \" \" + DialogsStyles.active}>\r\n                    {props.newMessagesCount}\r\n                 </div>}\r\n            </DialogItemStyled>);\r\n}\r\n\r\nexport const DialogsList = (props) => {\r\n    const history = useHistory()\r\n    const [searchText, setSearchText] = useState('')\r\n\r\n    let dialogsCopied = [...props.dialogs]\r\n\r\n\r\n    if(searchText.trim() !== \"\") {\r\n        dialogsCopied = [...props.dialogs].filter(item => item.userName.toLowerCase().includes(searchText.toLowerCase()))\r\n    }\r\n\r\n    let dialogsElements = dialogsCopied.map((dialog, key) => {\r\n        return <DialogItem name={dialog.userName}\r\n                           key={key} id={dialog.id}\r\n                           lastDialogActivityDate={dialog.lastDialogActivityDate}\r\n                           lastUserActivityDate={dialog.lastUserActivityDate}\r\n                           newMessagesCount={dialog.newMessagesCount}\r\n                           photos={dialog.photos}\r\n                           history={history}\r\n        />\r\n    });\r\n\r\n    return(\r\n        <div className={DialogsStyles.dialogs}>\r\n            <DialogListStyled className={DialogsStyles.dialogList} black={props.black}>\r\n                <div className={'dialogListHeader'}>\r\n                    <div className={DialogsStyles.searchDialog}>\r\n                        <SearchOutlined />\r\n                        <input type=\"text\" placeholder={\"Search dialog\"} onChange={event => setSearchText(event.target.value)}/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={DialogsStyles.contactList}>\r\n                    <ul>\r\n                        {dialogsElements.length ? dialogsElements : <p>No message</p>}\r\n                    </ul>\r\n                </div>\r\n            </DialogListStyled>\r\n        </div>);\r\n}\r\n\r\n\r\nexport default DialogsList;","import React, {useEffect} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getIsBlackSelector} from '../../redux-state/selectors/app-selectors';\r\n\r\nimport { Dialog } from \"./Dialog/Dialog\";\r\nimport {getIsDialogsFetching, getDialogsSelector, getDialogsError} from '../../redux-state/selectors/message-selectors';\r\nimport Preloader from '../assets/preloader/Preloader';\r\nimport DialogsList from \"./DialogList/DialogsList\";\r\nimport {actionsMessages, getDialogsThunkCreator} from '../../redux-state/messageReducer';\r\nimport {NetworkError} from '../common/NetworkError/NetworkError';\r\n\r\n\r\nconst DialogWrap = styled.div`\r\n    display: flex;\r\n`\r\n\r\n\r\nexport const Dialogs: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const isBlack = useSelector(getIsBlackSelector)\r\n    const isDialogFetching = useSelector(getIsDialogsFetching)\r\n    const dialogs = useSelector(getDialogsSelector)\r\n    const error = useSelector(getDialogsError)\r\n\r\n\r\n    useEffect(() =>{\r\n        dispatch(getDialogsThunkCreator())\r\n\r\n        return () => {\r\n            dispatch(actionsMessages.getDialogsAC(null))\r\n        }\r\n    }, [dispatch])\r\n\r\n    if(error) return <NetworkError refresh={() => dispatch(getDialogsThunkCreator())}/>\r\n\r\n    if(dialogs === null || isDialogFetching) return <Preloader/>\r\n\r\n    return (<DialogWrap>\r\n                <DialogsList black={isBlack} dialogs={dialogs}/>\r\n                <Dialog/>\r\n            </DialogWrap>)\r\n}\r\n\r\nexport default Dialogs","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport Navmod from './nav.module.css';\r\nimport {NavigationStyle} from '../../styles/theme';\r\nimport {IdcardOutlined, UsergroupAddOutlined, MessageOutlined, SettingOutlined} from '@ant-design/icons';\r\nimport {useSelector} from 'react-redux';\r\nimport {getIsLoginedSelector} from '../../redux-state/selectors/login-selectors';\r\n\r\nconst Nav: React.FC = () => {\r\n    const isLogined = useSelector(getIsLoginedSelector)\r\n\r\n    if(!isLogined) return null\r\n\r\n    return (<nav>\r\n        <NavigationStyle className={Navmod.navigation}>\r\n            <ul>\r\n                <NavLink to=\"/profile\" activeClassName={Navmod.activeLink}>\r\n                    <li><IdcardOutlined /></li>\r\n                </NavLink>\r\n\r\n                <NavLink to=\"/friends\" activeClassName={Navmod.activeLink}>\r\n                    <li><UsergroupAddOutlined /></li>\r\n                </NavLink>\r\n\r\n                <NavLink to=\"/dialogs\" activeClassName={Navmod.activeLink}>\r\n                    <li><MessageOutlined /></li>\r\n                </NavLink>\r\n\r\n                <NavLink to=\"/setting\" activeClassName={Navmod.activeLink}>\r\n                    <li><SettingOutlined /></li>\r\n                </NavLink>\r\n            </ul>\r\n        </NavigationStyle>\r\n    </nav>);\r\n}\r\n\r\nexport default Nav;","import styled from 'styled-components';\r\n\r\nexport const VerticalAlign = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`","import React from 'react';\r\nimport headermod from './header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {SwitchButton} from '../Nav/adaptiveNav';\r\nimport Nav from '../Nav/nav';\r\nimport {Avatar} from '../assets/avatar/avatar';\r\nimport {VerticalAlign} from '../../styles/vertical.align';\r\nimport {HeaderStyle} from '../../styles/theme';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {\r\n    getIsLoginedSelector,\r\n    getLoginSelector,\r\n    getMyProfileSelector\r\n} from '../../redux-state/selectors/login-selectors';\r\n\r\nimport {getNewMessagesCountSelector} from '../../redux-state/selectors/notification-selector';\r\nimport {logout} from '../../redux-state/loginReducer';\r\nimport {actionsApp} from '../../redux-state/appReducer';\r\nimport {AliwangwangOutlined, LogoutOutlined, BellOutlined, SwapOutlined} from '@ant-design/icons';\r\n\r\n\r\n//todo: fdsf\r\n\r\nconst Header: React.FC = () => {\r\n    const login = useSelector(getLoginSelector)\r\n    const isLogined = useSelector(getIsLoginedSelector)\r\n    const profile = useSelector(getMyProfileSelector)\r\n    const newMessageCount = useSelector(getNewMessagesCountSelector)\r\n\r\n    //Dispatch hooks\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    return (<header className={headermod.Header}>\r\n        <HeaderStyle>\r\n            <div className={headermod.headerWrap}>\r\n                <div className={headermod.leftside}>\r\n                    <NavLink to=\"/profile\"  className={headermod.logo}><h1><AliwangwangOutlined />Uface</h1></NavLink>\r\n                    <div style={{'marginTop': '5px'}}>\r\n                        <SwitchButton onClick={() => dispatch(actionsApp.ChangeThemeAC())}>\r\n                            <SwapOutlined />\r\n                        </SwitchButton>\r\n                    </div>\r\n\r\n                    <Nav/>\r\n                </div>\r\n\r\n                <div className={headermod.rightside}>\r\n\r\n                    <div className={headermod.note + ' ' + headermod.hide + ' ' + headermod.messages}>\r\n                        <BellOutlined />\r\n                        {newMessageCount > 0 && <span className={headermod.newMessageCount}>{newMessageCount}</span>}\r\n                    </div>\r\n\r\n                    <h3>{isLogined ?\r\n                        <VerticalAlign>{login}<Avatar link={profile ? profile.photos.small : null}\r\n                                                      size={30}/></VerticalAlign> :\r\n                        <NavLink exact={true} to=\"/login\">Please sign in</NavLink>}</h3>\r\n\r\n                    {isLogined && <div className={headermod.note + ' ' + headermod.logout} onClick={() => {\r\n                        dispatch(logout());\r\n                    }}>\r\n                        <LogoutOutlined />\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </HeaderStyle>\r\n    </header>);\r\n}\r\n\r\nexport default Header;","import styled from 'styled-components'\r\n\r\ntype WrappersTabs = {\r\n    maxWidth?: number,\r\n}\r\n\r\nexport const UniversalWrap = styled.div<WrappersTabs>`\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    max-width: ${props => props.maxWidth}px;\r\n`","import {AppStateType} from '../stateRedux';\r\n\r\nexport const getProfileSelector = (state: AppStateType) => (state.ProfilePage.profile)\r\nexport const getIsProfileFetching = (state: AppStateType) => (state.ProfilePage.isFetching)\r\nexport const getMyPostsSelector = (state: AppStateType) => (state.ProfilePage.PostsData)\r\nexport const getStatusSelector = (state: AppStateType) => (state.ProfilePage.status)\r\nexport const getProfileErrorSelector = (state: AppStateType) => (state.ProfilePage.setProfileErrors)\r\n","import React from 'react'\r\nimport {UniversalThemeComponent} from '../../../styles/theme';\r\nimport {ErrorMessage, Formik} from 'formik';\r\nimport Styles from '../setting.module.css'\r\nimport {ProfileType} from '../../../interfaces/profile-interfaces';\r\nimport  {Checkbox, Form, Input, SubmitButton, ResetButton } from 'formik-antd'\r\nimport * as Yup from 'yup';\r\nimport {message} from 'antd';\r\nimport { ProfileAPI } from '../../../api/profile-api';\r\nimport {ResultsCodes} from '../../../interfaces/common-interfaces';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\n\r\nconst DisplayingErrorMessagesSchema = Yup.object().shape({\r\n    aboutMe: Yup.string()\r\n        .min(2, 'Too Short!')\r\n        .max(50, 'Too Long!')\r\n        .required('Required'),\r\n    fullName: Yup.string()\r\n        .min(2, 'Too Short!')\r\n        .max(50, 'Too Long!')\r\n        .required('Required'),\r\n    lookingForAJobDescription: Yup.string()\r\n        .min(2, 'Too Short!')\r\n        .max(50, 'Too Long!'),\r\n});\r\n\r\nmessage.config({\r\n    top: 75,\r\n    duration: 4\r\n})\r\n\r\n\r\nexport const renderField = (name: string) =>{\r\n    return (<div className={Styles.formItem} key={name}>\r\n                <Form.Item name={name} label={name} style={{'marginBottom': '9px'}}>\r\n                    <Input type=\"text\" name={name} placeholder={name}/>\r\n                </Form.Item>\r\n             </div>)\r\n}\r\n\r\n\r\nexport const UpdateProfileForm: React.FC<PropsType> = ({profile}) => {\r\n    const {aboutMe, fullName, lookingForAJobDescription, lookingForAJob} = profile\r\n    const {t} = useTranslation()\r\n\r\n\r\n    return (<Formik\r\n                initialValues={{aboutMe, fullName, lookingForAJobDescription, lookingForAJob}}\r\n                enableReinitialize\r\n                validationSchema={DisplayingErrorMessagesSchema}\r\n                onSubmit={(values, { setSubmitting}) => {\r\n                    setSubmitting(true)\r\n                    ProfileAPI.putProfileData({...profile, ...values})\r\n                        .then(res => {\r\n                            if(res.data.resultCode === ResultsCodes.Success) {\r\n                                message.success('Success', 1)\r\n                            }else {\r\n                                message.error(res.data.messages.join(' '))\r\n                            }\r\n                    }).catch(e => message.error(e)).finally(() => setSubmitting(false))\r\n                }}\r\n            >\r\n                {({ isSubmitting ,...props}) => (\r\n                    <Form layout={'vertical'}\r\n                    >\r\n\r\n                        <UniversalThemeComponent className={Styles.item}>\r\n                            <h2>{t('settings.profile')}</h2>\r\n\r\n                            {Object.keys({aboutMe, fullName, lookingForAJobDescription}).map(renderField)}\r\n\r\n                            <div className={Styles.formItem}>\r\n                                <Checkbox name={'lookingForAJob'}>Looking for a job</Checkbox>\r\n                                <ErrorMessage name={'lookingForAJob'} component=\"div\" />\r\n                            </div>\r\n\r\n                            <div className={Styles.buttons}>\r\n                                <ResetButton>{t('settings.reset')}</ResetButton>\r\n                                <SubmitButton disabled={isSubmitting}>{t('settings.send')}</SubmitButton>\r\n                            </div>\r\n                        </UniversalThemeComponent>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        )\r\n}","import React from 'react';\r\nimport {Formik} from 'formik';\r\nimport {Form, ResetButton, SubmitButton} from 'formik-antd';\r\nimport {UniversalThemeComponent} from '../../../styles/theme';\r\nimport Styles from '../setting.module.css';\r\nimport {renderField} from './update-profile-form';\r\nimport {ProfileType} from '../../../interfaces/profile-interfaces';\r\nimport * as Yup from 'yup';\r\nimport {IKeys, ResultsCodes} from '../../../interfaces/common-interfaces';\r\nimport {ProfileAPI} from '../../../api/profile-api';\r\nimport {message} from 'antd';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\n\r\nexport const UpdateContactForm: React.FC<PropsType> = ({profile}) => {\r\n    const {contacts} = profile\r\n\r\n    const {t} = useTranslation()\r\n\r\n    const validationScheme: IKeys = {}\r\n    for (let key in contacts) {\r\n        validationScheme[key] = Yup.string().url('Must be url').nullable()\r\n    }\r\n\r\n\r\n    const DisplayingErrorMessagesSchema = Yup.object().shape(validationScheme)\r\n\r\n    return (<Formik\r\n            initialValues={contacts}\r\n            enableReinitialize\r\n            validationSchema={DisplayingErrorMessagesSchema}\r\n            onSubmit={(values, {setSubmitting}) => {\r\n                setSubmitting(true)\r\n                ProfileAPI.putProfileData({...profile, contacts: {...values}})\r\n                    .then(res => {\r\n                        if (res.data.resultCode === ResultsCodes.Success) {\r\n                            message.success('Success', 1)\r\n                        } else {\r\n                            message.error(res.data.messages.join(' '))\r\n                        }\r\n                    }).catch(e => message.error(e)).finally(() => setSubmitting(false))\r\n            }}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form layout={'vertical'}\r\n                >\r\n                    <UniversalThemeComponent className={Styles.item}>\r\n                        <h2>{t('settings.contacts')}</h2>\r\n\r\n                        {Object.keys(contacts).map(renderField)}\r\n                        <div className={Styles.buttons}>\r\n                            <ResetButton>{t('settings.reset')}</ResetButton>\r\n                            <SubmitButton disabled={isSubmitting}>{t('settings.send')}</SubmitButton>\r\n                        </div>\r\n\r\n                    </UniversalThemeComponent>\r\n\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\n\r\nimport Set from './setting.module.css';\r\nimport {UniversalWrap} from '../../styles/wrap.styles';\r\nimport {SettingStyled} from '../../styles/theme';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getProfileErrorSelector, getProfileSelector} from '../../redux-state/selectors/profile-selector';\r\nimport {getMyIdSelector} from '../../redux-state/selectors/login-selectors';\r\nimport {getProfileThunkCreator} from '../../redux-state/profileReducer';\r\nimport Preloader from '../assets/preloader/Preloader';\r\nimport {UpdateProfileForm} from './UpdateProfile/update-profile-form';\r\nimport {Tabs} from 'antd';\r\nimport {PhoneOutlined, ProfileOutlined} from '@ant-design/icons';\r\nimport {UpdateContactForm} from './UpdateProfile/update-contact-form';\r\nimport {NetworkError} from '../common/NetworkError/NetworkError';\r\n\r\n\r\nconst {TabPane} = Tabs\r\n\r\n\r\nconst Setting: React.FC = () => {\r\n    const profile = useSelector(getProfileSelector)\r\n    const id = useSelector(getMyIdSelector)\r\n    const error = useSelector(getProfileErrorSelector)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        document.title = 'Setting';\r\n        if (id !== null) {\r\n            dispatch(getProfileThunkCreator(id));\r\n        }\r\n\r\n    }, [dispatch, id])\r\n\r\n    if(error && id !== null) {\r\n        return <NetworkError refresh={() =>  dispatch(getProfileThunkCreator(id))}/>\r\n    }\r\n\r\n    if (profile === null) return <Preloader/>\r\n\r\n    return (<UniversalWrap maxWidth={700}>\r\n        <SettingStyled >\r\n            <Tabs defaultActiveKey='profile' tabPosition={'left'} className={Set.wrap}>\r\n                <TabPane tab={\r\n                    <div className={Set.tab}>\r\n                        <ProfileOutlined/>\r\n\r\n                    </div>\r\n                } key={'profile'}\r\n                >\r\n                    <UpdateProfileForm profile={profile}/>\r\n                </TabPane>\r\n                <TabPane tab={\r\n                    <div className={Set.tab}>\r\n                        <PhoneOutlined/>\r\n                    </div>\r\n\r\n                } key={'contacts'}>\r\n                    <UpdateContactForm profile={profile}/>\r\n                </TabPane>\r\n            </Tabs>\r\n        </SettingStyled>\r\n    </UniversalWrap>)\r\n}\r\n\r\nexport default Setting;\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport styles from './status.module.css';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {updateStatusThunkCreator} from '../../../../redux-state/profileReducer';\r\nimport {getStatusSelector} from '../../../../redux-state/selectors/profile-selector';\r\n\r\n\r\nconst StatusHook: React.FC<{ amI: boolean }> = (props) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [edit, setEdit] = useState(false);\r\n\r\n    const userStatus = useSelector(getStatusSelector)\r\n    const [status, setStatus] = useState(userStatus);\r\n\r\n    useEffect(() => {\r\n        setStatus(userStatus)\r\n    }, [userStatus])\r\n\r\n\r\n    let activateEditMode = () => {\r\n        if (props.amI) {\r\n            setEdit(true)\r\n        }\r\n    }\r\n\r\n    let deactivateEditMode = () => {\r\n        if (props.amI) {\r\n            setEdit(false)\r\n            if(status!== null) dispatch(updateStatusThunkCreator(status))\r\n        }\r\n    }\r\n\r\n\r\n    let onStatusChange = (e: any) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return <>{!edit ?\r\n        <span>\r\n                      <span onDoubleClick={activateEditMode}>{status || 'Status'}</span>\r\n                  </span>\r\n        :\r\n        <span>\r\n                      <input onChange={onStatusChange}\r\n                             autoFocus={true}\r\n                             className={styles.Input}\r\n                             onBlur={deactivateEditMode}\r\n                             type=\"text\"\r\n                             value={status as string}\r\n                             maxLength={300}/>\r\n\r\n                      <div className={styles.EditMode}>Edit mode</div>\r\n                  </span>}\r\n    </>\r\n}\r\n\r\nexport default StatusHook;","import React from 'react';\r\nimport galleryStyle from './gallery.module.css';\r\nimport {CloseCircleOutlined, CloudUploadOutlined } from '@ant-design/icons';\r\n\r\ntype ownProps = {\r\n    setShowGallery: (payload: boolean) => void\r\n    uploadPhoto: (payload: any) => void\r\n    amI: boolean\r\n    img: string\r\n}\r\nconst Gellery: React.FC<ownProps> = props => {\r\n    let clickOnWrap = (event: any) => {\r\n        if(event.target.id !== null) {\r\n            if (event.target.id !== '') props.setShowGallery(false)\r\n        }\r\n    }\r\n\r\n    return (<div className={galleryStyle.Wrap}>\r\n        <div className={galleryStyle.ContentWrapper} onClick={clickOnWrap} id={'wrap'}>\r\n            <div className={galleryStyle.Content}>\r\n                <div className={galleryStyle.Header}>\r\n                    <div onClick={() => props.setShowGallery(false)}><CloseCircleOutlined /></div>\r\n\r\n                    {props.amI && <div>\r\n                        <label htmlFor=\"avatar\">\r\n                            <CloudUploadOutlined />\r\n                            <input type=\"file\" id=\"avatar\" onInput={props.uploadPhoto} style={{display: 'none'}}/>\r\n                        </label>\r\n                    </div>}\r\n                </div>\r\n                <img src={props.img} alt=\"gallery\"/>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default Gellery;\r\n","import React, {useState} from 'react'\r\nimport p from '../profile.module.css';\r\nimport Status from './status/statusHook';\r\nimport profileAvatar from '../../../img/Profile/avatar.png';\r\nimport {ProfileItemStyled} from '../../../styles/theme';\r\nimport {ProfileType} from '../../../interfaces/profile-interfaces';\r\nimport {useDispatch} from 'react-redux';\r\nimport {uploadAvatarThunkCreator} from '../../../redux-state/profileReducer';\r\nimport Gellery from '../../common/gallery/gallery';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {\r\n    ExceptionOutlined,\r\n    FileSearchOutlined,\r\n    SmileOutlined,\r\n    FacebookOutlined,\r\n    DribbbleOutlined,\r\n    IeOutlined,\r\n    TwitterOutlined,\r\n    InstagramOutlined,\r\n    YoutubeOutlined,\r\n    GithubOutlined,\r\n    LinkedinOutlined,\r\n    CloudUploadOutlined\r\n} from '@ant-design/icons';\r\n\r\n\r\n\r\ntype ownProps = {\r\n    profile: ProfileType,\r\n    myId: string | number | null\r\n}\r\nconst ProfileInfo: React.FC<ownProps> = ({profile, myId}) => {\r\n    const dispatch = useDispatch()\r\n    const { t } = useTranslation();\r\n\r\n    let hasContact = false;\r\n    let amI: boolean = profile.userId === myId;\r\n\r\n\r\n    const {contacts} = profile\r\n\r\n    for (let key in contacts) {\r\n        //@ts-ignore\r\n        if (contacts[key] !== null && contacts[key] !== '') {\r\n            hasContact = true;\r\n        }\r\n    }\r\n\r\n    let [showGallery, setShowGallery] = useState(false)\r\n\r\n    let normalizeLink = (link: string) => {\r\n        if (link.match('https://') || link.match('http://')) {\r\n            return link;\r\n        } else {\r\n            return '//' + link;\r\n        }\r\n    }\r\n\r\n    let uploadPhoto = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if(e.target.files !== null){\r\n            dispatch(uploadAvatarThunkCreator((e.target.files[0])));\r\n        }\r\n    }\r\n\r\n    let Gallery = () => {\r\n        if (profile.photos.large || profile.photos.small) {\r\n            setShowGallery(true)\r\n        }\r\n    }\r\n\r\n    // if (props.isRedirectedToDialog) {\r\n    //     return <Redirect to={'/dialogs/' + profile.userId}/>\r\n    // }\r\n\r\n\r\n    return (<div className={p.profileWrap}>\r\n            <div className={p.photowrap}></div>\r\n\r\n            <ProfileItemStyled className={p.information}>\r\n                {amI && <div className={p.avatarWrap}>\r\n                    <div className={p.changeAvatarContainer}>\r\n                        <img src={profile.photos.large || profileAvatar}\r\n                             className={p.avatar}\r\n                             alt=\"Avatar\" onClick={Gallery}/>\r\n\r\n                        <label htmlFor=\"avatar\" className={p.changeAvatar}>\r\n                            <div className={p.AvatarControl}>\r\n                                <CloudUploadOutlined />\r\n                                <input type=\"file\" id=\"avatar\" onInput={uploadPhoto} style={{display: 'none'}}/>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                </div>}\r\n\r\n                {!amI && <div className={p.avatarWrap}>\r\n\r\n                    <img src={profile.photos.large || profileAvatar}\r\n                         className={p.avatar} style={{border: '3px solid #fff'}}\r\n                         alt=\"Avatar\" onClick={Gallery}/>\r\n\r\n                </div>}\r\n\r\n                <div className={p.info}>\r\n                    <h2>{profile.fullName}</h2>\r\n\r\n                    <ul className={p.about}>\r\n                        <li>\r\n                            <span className={p.infoItem}><SmileOutlined /></span>\r\n                            <Status amI={amI}/>\r\n                        </li>\r\n\r\n                        {profile.aboutMe && <li>\r\n                            <span className={p.infoItem}><ExceptionOutlined /></span>\r\n                            {profile.aboutMe}\r\n                        </li>}\r\n\r\n                        {profile.lookingForAJob && <li>\r\n                            <span className={p.infoItem}><FileSearchOutlined /></span>\r\n                            <b>{t('profile.lookingJob')}</b>\r\n\r\n                            <p className={p.description}>{profile.lookingForAJobDescription}</p>\r\n                        </li>}\r\n\r\n                    </ul>\r\n                </div>\r\n\r\n                {!amI && <div className={p.Activity}>\r\n\r\n                    {/*{props.isFollowed ?*/}\r\n                    {/*    <button disabled={props.followProcces.some(item => item === profile.userId)}*/}\r\n                    {/*            className={UsersStlyes.follower + ' ' + p.ActivityButtons + ' ' + p.Unfollow}*/}\r\n                    {/*            onClick={() => {*/}\r\n\r\n                    {/*                props.unfollowThunkCreator(profile.userId)*/}\r\n                    {/*            }}>Unfollow</button> :*/}\r\n                    {/*    <button disabled={props.followProcces.some(item => item === profile.userId)}*/}\r\n                    {/*            className={UsersStlyes.follower + ' ' + p.ActivityButtons}*/}\r\n                    {/*            onClick={() => {*/}\r\n                    {/*                props.followThunkCreator(profile.userId)*/}\r\n                    {/*            }}>follow</button>}*/}\r\n\r\n                    {/*<button onClick={() => props.startChatingThunkCreator(profile.userId)} className={p.Mail}><i*/}\r\n                    {/*    className=\"far fa-envelope\"></i></button>*/}\r\n\r\n\r\n                </div>}\r\n            </ProfileItemStyled>\r\n\r\n            {hasContact && <ProfileItemStyled className={p.information + ' ' + p.contacts}>\r\n                <ul>\r\n                    {contacts.facebook && <li>\r\n                        <a href={normalizeLink(contacts.facebook)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <FacebookOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.website && <li>\r\n                        <a href={normalizeLink(contacts.website)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <DribbbleOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.vk && <li><a href={normalizeLink(contacts.vk)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <IeOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.twitter && <li>\r\n                        <a href={normalizeLink(contacts.twitter)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <TwitterOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.instagram && <li>\r\n                        <a href={normalizeLink(contacts.instagram)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <InstagramOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.youtube && <li>\r\n                        <a href={normalizeLink(contacts.youtube)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <YoutubeOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.github && <li>\r\n                        <a href={normalizeLink(contacts.github)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <GithubOutlined />\r\n                        </a>\r\n                    </li>}\r\n\r\n                    {contacts.mainLink && <li>\r\n                        <a href={normalizeLink(contacts.mainLink)} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <LinkedinOutlined />\r\n                        </a>\r\n                    </li>}\r\n                </ul>\r\n            </ProfileItemStyled>}\r\n\r\n            {showGallery &&\r\n            <Gellery img={profile.photos.large as string} setShowGallery={setShowGallery} amI={amI} uploadPhoto={uploadPhoto}/>}\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport post from './post.module.css';\r\nimport Avatar from './../../../../img/Profile/avatar.png';\r\nimport {PostsItemStyled} from '../../../../styles/theme';\r\nimport {photosT, PostDataType} from '../../../../interfaces/profile-interfaces';\r\nimport {RetweetOutlined, MessageOutlined, LikeOutlined} from '@ant-design/icons';\r\n\r\ntype ownProps = {\r\n    name: string,\r\n    photos: photosT\r\n}\r\n\r\nconst Post: React.FC<PostDataType & ownProps> = (props) => {\r\n\r\n    return (\r\n        <PostsItemStyled className={post.item}>\r\n            <div className={post.postHeder}>\r\n                <img src={props.photos.small || props.photos.large || Avatar} alt=\"avatar\"/>\r\n\r\n                <div>\r\n                    <h2>{props.name}</h2>\r\n                    <div className={post.date}>{props.dataSend}</div>\r\n                </div>\r\n\r\n                <div className={post.postSetting}>\r\n                    <i className=\"fas fa-ellipsis-h\"></i>\r\n                    {/*<i className=\"fas fa-sliders-h\"></i>*/}\r\n                </div>\r\n            </div>\r\n            <div className={post.content + ' Content'}>\r\n                {props.content}\r\n            </div>\r\n\r\n            <div className={post.activity}>\r\n                <div className={post.likes}><LikeOutlined /> {props.likes}</div>\r\n                <div className=\"shares\"><RetweetOutlined /> {props.rep}</div>\r\n                <div className=\"comments\"><MessageOutlined /> {props.comm}</div>\r\n            </div>\r\n        </PostsItemStyled>\r\n\r\n    );\r\n}\r\n\r\nexport default Post;","import React, {useState} from 'react';\r\nimport MyPost from './MyPosts.module.css';\r\nimport Post from './post/post';\r\n// @ts-ignore\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport {PostsItemStyled} from '../../../styles/theme';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {\r\n    getMyPostsSelector,\r\n} from '../../../redux-state/selectors/profile-selector';\r\nimport {actionsProfile} from '../../../redux-state/profileReducer';\r\nimport {ProfileType} from '../../../interfaces/profile-interfaces';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {SendOutlined} from '@ant-design/icons';\r\n\r\ntype ownProps = {\r\n    profile: ProfileType\r\n}\r\nconst MyPosts: React.FC<ownProps> = ({profile}) => {\r\n\r\n    const [value, changeVal] = useState('');\r\n    const [isDisabled, changeDisabled] = useState(true);\r\n    const [symbols, setSymbols] = useState(0);\r\n\r\n    const dispatch = useDispatch()\r\n    const PostsData = useSelector(getMyPostsSelector)\r\n    const { t } = useTranslation();\r\n\r\n    let addNewPost = () => {\r\n        if (value !== '') {\r\n            changeVal('');\r\n            changeDisabled(true);\r\n            dispatch(actionsProfile.addNewPostAC(value))\r\n            setSymbols(0)\r\n        }\r\n    }\r\n\r\n    let postHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        changeVal(e.target.value);\r\n        setSymbols(e.target.value.length)\r\n\r\n        if (e.target.value !== '') {\r\n            changeDisabled(false)\r\n        } else {\r\n            changeDisabled(true)\r\n        }\r\n    }\r\n\r\n    let PostsElements = PostsData.map((currentValue, index) =>\r\n        (<Post key={index.toString()} {...currentValue} name={profile.fullName} photos={profile.photos}\r\n    />)).reverse()\r\n    return (\r\n        <div className={MyPost.myposts}>\r\n            <div className=\"postwrap\">\r\n                <PostsItemStyled className={MyPost.newpost}>\r\n                    <TextareaAutosize value={value} onChange={postHandler} placeholder={t('profile.create-post')}\r\n                                      autoComplete={'off'} wrap={'hard'}/>\r\n                    <div className={MyPost.createnewpost}>\r\n                        <span>{t('profile.symbols')}: {symbols}</span>\r\n                        <div>\r\n                            <button className={MyPost.button + ' ' + MyPost.send} disabled={isDisabled}\r\n                                    onClick={addNewPost}>\r\n                                <SendOutlined /></button>\r\n                        </div>\r\n                    </div>\r\n                </PostsItemStyled>\r\n\r\n                <div className=\"news\">\r\n                    {PostsElements}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {getIsLoginedSelector} from '../redux-state/selectors/login-selectors';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport const useRedirect = () => {\r\n    const isLogined = useSelector(getIsLoginedSelector)\r\n\r\n    if (isLogined) return <Redirect to={'/login'}/>\r\n\r\n    return null\r\n}","import React, {useEffect} from 'react';\r\nimport p from './profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/profileInfo';\r\nimport Preloader from '../assets/preloader/Preloader';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {\r\n    getIsProfileFetching,\r\n    getProfileErrorSelector,\r\n    getProfileSelector\r\n} from '../../redux-state/selectors/profile-selector';\r\nimport {getMyIdSelector} from '../../redux-state/selectors/login-selectors';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport {getProfileThunkCreator, getStatusThunkCreator, actionsProfile} from '../../redux-state/profileReducer';\r\nimport {useRedirect} from '../../hook/Redirect';\r\nimport { NetworkError } from '../common/NetworkError/NetworkError';\r\n\r\n\r\nconst Profile = () => {\r\n\r\n    const isFetching = useSelector(getIsProfileFetching)\r\n    const profile = useSelector(getProfileSelector)\r\n    const error = useSelector(getProfileErrorSelector)\r\n    const myId = useSelector(getMyIdSelector)\r\n    const params = useParams<{userID: string}>()\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    useRedirect()\r\n\r\n    const setProfile = () => {\r\n        let userID: string | number | null = params.userID;\r\n\r\n        if (!userID) {\r\n            userID = myId;\r\n\r\n            if (!userID) {\r\n                history.push('/login')\r\n                return\r\n            }\r\n        }\r\n\r\n        dispatch(getProfileThunkCreator(+userID));\r\n        dispatch(getStatusThunkCreator(+userID));\r\n    }\r\n    useEffect(() =>{\r\n        document.title = 'Profile';\r\n        setProfile();\r\n\r\n        return () => {\r\n            // dispatch(actionsProfile.setRedirectedToDialog(false));\r\n            dispatch(actionsProfile.setProfile(null));\r\n        }\r\n    }, [params])\r\n\r\n    if(error) {\r\n        return <NetworkError refresh={setProfile}/>\r\n    }\r\n\r\n    if (isFetching || profile === null) {\r\n        return (<Preloader/>)\r\n    }\r\n    return (\r\n        <div className={p.profile}>\r\n            <ProfileInfo profile={profile} myId={myId}/>\r\n\r\n            {profile.userId === myId && <MyPosts profile={profile}/>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport UsersStlyes from './Users.module.css';\r\nimport AvatarImg from '../../img/Profile/avatar.png';\r\nimport AvatarBlack from '../../img/Profile/avatarBlack.png';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {UserItemStyled} from '../../styles/theme';\r\nimport {Avatar} from '../assets/avatar/avatar';\r\n\r\nimport {UserT} from '../../interfaces/users-interfaces';\r\nimport {useSelector} from 'react-redux';\r\nimport {getIsBlackSelector} from '../../redux-state/selectors/app-selectors';\r\n\r\n\r\ntype PropsType = {\r\n    index: number,\r\n    user: UserT,\r\n    followProcess: Array<number>,\r\n    unfollowThunkCreator: (userID: number) => void,\r\n    followThunkCreator: (userID: number) => void,\r\n    t: (key: string) => string\r\n}\r\n\r\nlet User: React.FC<PropsType> = props => {\r\n    const isBlack = useSelector(getIsBlackSelector)\r\n\r\n    return (<UserItemStyled className={UsersStlyes.item} key={props.index.toString()}>\r\n        <div className={UsersStlyes.header}>\r\n            <Avatar size={100} link={(props.user.photos.small !== null) ? props.user.photos.small : (isBlack ? AvatarBlack: AvatarImg)}/>\r\n        </div>\r\n\r\n        <div className={UsersStlyes.content}>\r\n            <div className={UsersStlyes.name}>\r\n                <NavLink to={'/profile/' + props.user.id}><h2>{props.user.name}</h2></NavLink>\r\n            </div>\r\n\r\n            <div className={UsersStlyes.status}>{props.user.status || 'no status'}</div>\r\n        </div>\r\n\r\n        <div className={UsersStlyes.buttons}>\r\n            {props.user.followed ?\r\n                <button disabled={props.followProcess.some(item => item === props.user.id)}\r\n                        className={'unfollow'}\r\n                        onClick={() => {\r\n                            props.unfollowThunkCreator(props.user.id)\r\n                        }}>{props.t('users.unfollow')}</button> :\r\n                <button disabled={props.followProcess.some(item => item === props.user.id)}\r\n                        onClick={() => {\r\n                            props.followThunkCreator(props.user.id)\r\n                        }}>{props.t('users.follow')}</button>\r\n            }\r\n        </div>\r\n    </UserItemStyled>)\r\n}\r\n\r\n\r\nexport default User;","export default \"data:image/png;base64,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\"","import React, {useEffect} from 'react';\r\nimport UsersStlyes from '../../Users/Users.module.css';\r\nimport {PagitatorItemStyled} from '../../../styles/theme';\r\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\r\nimport {IFilters} from '../../../interfaces/common-interfaces';\r\n\r\n\r\ntype PagitatorTypes = {\r\n    totalUsersCount: number,\r\n    pagePagitator: number,\r\n    pageSize: number,\r\n    windowsWidth: number,\r\n    currentPage: number,\r\n    setCurrentPagePagitator: (count: number) => void,\r\n    onPageChange: (a: number) => void,\r\n    filters: IFilters\r\n}\r\n\r\nexport const Pagitator: React.FC<PagitatorTypes> = ({\r\n                                                        totalUsersCount,\r\n                                                        pagePagitator,\r\n                                                        pageSize,\r\n                                                        currentPage,\r\n                                                        setCurrentPagePagitator,\r\n                                                        onPageChange,\r\n                                                        windowsWidth,\r\n                                                        filters\r\n                                                    }) => {\r\n    let pageCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages: Array<number> = [];\r\n    let portion;\r\n\r\n    if (windowsWidth <= 635) {\r\n        portion = 6;\r\n    } else {\r\n        portion = 9;\r\n    }\r\n\r\n    let count = pagePagitator;\r\n\r\n    let left = count * portion + 1;\r\n    let right = left + portion - 1;\r\n\r\n\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let leftShift = () => {\r\n        setCurrentPagePagitator(--count)\r\n    }\r\n\r\n    let rightShift = () => {\r\n        setCurrentPagePagitator(++count)\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        setCurrentPagePagitator(0)\r\n    }, [filters, setCurrentPagePagitator])\r\n\r\n    pages = pages.filter(item => item >= left && item <= right)\r\n\r\n    return (<PagitatorItemStyled className={UsersStlyes.settingPanel}>\r\n        <button className={UsersStlyes.navs + ' navs'} disabled={left <= 1} onClick={leftShift}>\r\n            <LeftOutlined />\r\n        </button>\r\n\r\n        {pages.map((p, index) => {\r\n            return <button onClick={() => {\r\n                onPageChange(p)\r\n            }} className={(currentPage === p && UsersStlyes.active).toString()}\r\n                           key={index.toString()}>{p}</button>\r\n        })}\r\n\r\n        <button className={UsersStlyes.navs + ' navs'} onClick={rightShift} disabled={right >= pageCount}>\r\n            <RightOutlined />\r\n        </button>\r\n    </PagitatorItemStyled>)\r\n}","import {AppStateType} from '../stateRedux';\r\n\r\n\r\nexport const getUsersSelector = (state: AppStateType) => state.UsersReducer.users;\r\nexport const getPageSizeSelector = (state: AppStateType) => state.UsersReducer.pageSize;\r\nexport const getTotalUsersCountSelector = (state: AppStateType) => state.UsersReducer.totalUsersCount;\r\nexport const getCurrentPageSelector = (state: AppStateType) => state.UsersReducer.currentPage;\r\nexport const getIsFetchingSelector = (state: AppStateType) => state.UsersReducer.isFetching;\r\nexport const getPagePagitator = (state: AppStateType) => state.UsersReducer.currentPagePagitator;\r\nexport const getFollowProccesSelector = (state: AppStateType) => state.UsersReducer.followProcess;\r\nexport const getIsLoginedSelector = (state: AppStateType) => state.LoginReducer.isLogined;\r\nexport const getUsersErrorSelector = (state: AppStateType) => state.UsersReducer.error","import React from 'react';\r\nimport { FrownOutlined } from '@ant-design/icons';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrap = styled.div`\r\n    text-align: center;\r\n    padding-top: 50px;\r\n    color: #2B5278;\r\n    \r\n    & svg {\r\n        font-size: 7em;\r\n    }\r\n    \r\n    & p {\r\n        margin-top: 10px;\r\n    }\r\n`\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <Wrap>\r\n            <FrownOutlined />\r\n            <p>Not found any user</p>\r\n        </Wrap>\r\n    );\r\n};\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport UsersStlyes from './Users.module.css';\r\nimport User from './User';\r\nimport {Pagitator} from '../common/pagitator/Pagitator';\r\nimport {UniversalWrap} from '../../styles/wrap.styles'\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {\r\n    getPagePagitator,\r\n    getTotalUsersCountSelector,\r\n    getPageSizeSelector,\r\n    getUsersSelector, getCurrentPageSelector, getFollowProccesSelector, getIsFetchingSelector, getUsersErrorSelector\r\n} from '../../redux-state/selectors/users-selectors';\r\nimport {setUsersThunkCreator, unfollowThunkCreator, UsersActions, followThunkCreator} from '../../redux-state/usersReducer';\r\nimport Preloader from '../assets/preloader/Preloader';\r\nimport {useTranslation} from 'react-i18next';\r\nimport { Button } from 'antd';\r\nimport Search from 'antd/lib/input/Search';\r\nimport {IFilters} from '../../interfaces/common-interfaces';\r\nimport { NotFound } from '../common/notFount/NotFound';\r\nimport {UserOptionItemStyled} from '../../styles/theme';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {useRedirect} from '../../hook/Redirect';\r\nimport {NetworkError} from '../common/NetworkError/NetworkError';\r\n\r\nconst qs = require('qs')\r\n\r\n\r\nlet Users: React.FC = () => {\r\n    useRedirect()\r\n\r\n    const totalUsersCount = useSelector(getTotalUsersCountSelector)\r\n    const pageSize = useSelector(getPageSizeSelector)\r\n    const pagePagitator = useSelector(getPagePagitator)\r\n    const users = useSelector(getUsersSelector)\r\n    const currentPage = useSelector(getCurrentPageSelector)\r\n    const followProcess = useSelector(getFollowProccesSelector)\r\n    const isFetching = useSelector(getIsFetchingSelector)\r\n    const error = useSelector(getUsersErrorSelector)\r\n    const {t} = useTranslation()\r\n\r\n\r\n    const [screenWidth, setScreenWidth] = useState(window.innerWidth)\r\n    const [filters, setFilters] = useState<IFilters>({})\r\n    const [searchStr, setSearchStr] = useState('')\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const screenWidthHandler = () => {\r\n        if(window.innerWidth <= 635 && screenWidth >= 635){\r\n            setScreenWidth(window.innerWidth)\r\n        }\r\n\r\n        if(window.innerWidth > 635 && screenWidth < 635){\r\n            setScreenWidth(window.innerWidth)\r\n        }\r\n    }\r\n\r\n    const onPageChange = (p: number) => {\r\n        dispatch(setUsersThunkCreator(p, pageSize, filters));\r\n    }\r\n\r\n    const setCurrentPagePagitator = (p: number) => {\r\n        dispatch(UsersActions.setCurrentPagePagitator(p))\r\n    }\r\n\r\n    const unfollow = (id: number) => {\r\n        dispatch(unfollowThunkCreator(id))\r\n    }\r\n\r\n    const follow = (id: number) => {\r\n        dispatch(followThunkCreator(id))\r\n    }\r\n\r\n    const getUsers = () => {\r\n        let temp = qs.parse(history.location.search, { ignoreQueryPrefix: true })\r\n        if(temp.term) setSearchStr(temp.term)\r\n        setFilters(temp)\r\n\r\n        dispatch(setUsersThunkCreator(currentPage, pageSize, temp));\r\n    }\r\n\r\n    const find = (value: string) => {\r\n        if(value === \"\"){\r\n            setFilters(prevState => {\r\n                let temp = {...prevState}\r\n                delete temp.term\r\n                return temp\r\n            })\r\n        }else  {\r\n            setFilters(prevState => ({...prevState, term: value}))\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        document.title = \"Users\"\r\n        window.addEventListener(`resize`, screenWidthHandler, false);\r\n\r\n        getUsers()\r\n\r\n        return () => {\r\n            window.removeEventListener(`resize`, screenWidthHandler, false)\r\n        }\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const uri = qs.stringify(filters)\r\n        history.push('/friends?'+uri)\r\n\r\n        dispatch(setUsersThunkCreator(1, pageSize, filters));\r\n    }, [filters, dispatch, history, pageSize])\r\n\r\n    if(error) {\r\n       return <NetworkError refresh={getUsers}/>\r\n    }\r\n\r\n\r\n\r\n    return (<UniversalWrap maxWidth={600}>\r\n                <Pagitator currentPage={currentPage}\r\n                           onPageChange={onPageChange}\r\n                           pagePagitator={pagePagitator}\r\n                           pageSize={pageSize}\r\n                           setCurrentPagePagitator={setCurrentPagePagitator}\r\n                           totalUsersCount={totalUsersCount}\r\n                           windowsWidth={screenWidth}\r\n                           filters={filters}\r\n                />\r\n\r\n                <UserOptionItemStyled className={UsersStlyes.option}>\r\n                    <Button type={(filters.friend === undefined) ? 'primary': 'default'}\r\n                            onClick={() => setFilters(prevState => {\r\n                               let temp = {...prevState}\r\n                               delete temp.friend\r\n                               return temp\r\n                            })}\r\n                            size={\"large\"}>All\r\n                    </Button>\r\n                    <Button size={\"large\"}\r\n                            onClick={() => setFilters(prevState => ({...prevState, friend: true}))}\r\n                            type={(filters.friend) ? 'primary': 'default'}>Followers\r\n                    </Button>\r\n                    <Button size={\"large\"}\r\n                            onClick={() => setFilters(prevState => ({...prevState, friend: false}))}\r\n                            type={(filters.friend === false) ? 'primary': 'default'}>Not followed\r\n                    </Button>\r\n                    <Search placeholder=\"input search text\"\r\n                            allowClear\r\n                            enterButton\r\n                            value={searchStr}\r\n                            onChange={e => setSearchStr(e.target.value)}\r\n                            size={\"large\"} onSearch={find}\r\n                    />\r\n                </UserOptionItemStyled>\r\n\r\n\r\n                {isFetching ? <Preloader/> : <div className={UsersStlyes.itemWrap}>\r\n                    {users.map((user, index) => <User user={user}\r\n                                                                    followProcess={followProcess}\r\n                                                                    key={index}\r\n                                                                    t={t}\r\n                                                                    index={index}\r\n                                                                    followThunkCreator={follow}\r\n                                                                    unfollowThunkCreator={unfollow}/>)}\r\n                </div>}\r\n\r\n                {users.length === 0 && <NotFound/>}\r\n           </UniversalWrap>)\r\n}\r\n\r\n\r\nexport default Users;","import ua from './langs/ua.json'\r\nimport eng from './langs/eng.json'\r\n\r\nexport const resources = {\r\n    ua: ua,\r\n    eng: eng\r\n}","import React, {useEffect} from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport Login from './components/Login/Login';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {initializeApp} from './redux-state/appReducer';\r\nimport Preloader from './components/assets/preloader/Preloader';\r\n\r\nimport {getNewMessageCountThunkCreator} from './redux-state/notificationReducer';\r\nimport {createGlobalStyle, ThemeProvider} from 'styled-components';\r\nimport {AdaptiveMenu} from './components/Nav/adaptiveNav';\r\nimport Dialogs from \"./components/Dialogs\";\r\n\r\nimport Header from './components/Header/header';\r\n\r\nimport Setting from './components/Setting/setting';\r\nimport {getInitializedSelector, getIsBlackSelector} from './redux-state/selectors/app-selectors';\r\nimport Profile from './components/Profile/profile';\r\nimport Users from './components/Users/Users';\r\n\r\nimport i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport {resources} from './localization';\r\n\r\ni18n\r\n    .use(initReactI18next) // passes i18n down to react-i18next\r\n    .init({\r\n        resources: resources,\r\n        lng: \"eng\",\r\n        fallbackLng: \"eng\",\r\n\r\n        interpolation: {\r\n            escapeValue: false\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\ntype themeType = {\r\n    theme: {\r\n        mode: string\r\n    }\r\n}\r\n\r\nconst GlobalStyle = createGlobalStyle<themeType>`\r\n  body {\r\n    background: ${props => (props.theme.mode === 'dark' ? '#3C3F41' : '#E7EBF0')};\r\n  }\r\n`\r\n\r\nconst App = () => {\r\n    const dispatch = useDispatch()\r\n    const initialized = useSelector(getInitializedSelector)\r\n    const isBlackTheme = useSelector(getIsBlackSelector)\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp())\r\n        dispatch(getNewMessageCountThunkCreator())\r\n    }, [dispatch])\r\n\r\n\r\n    if (!initialized) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return (\r\n        <ThemeProvider theme={{mode: isBlackTheme ? 'dark' : 'light'}}>\r\n            <div className=\"render\">\r\n                <GlobalStyle/>\r\n                <Header/>\r\n                <AdaptiveMenu/>\r\n\r\n                <React.Suspense fallback={<Preloader/>}>\r\n                    <Switch>\r\n                        <Route path=\"/login\" exact render={() => <Login/>}/>\r\n                        <div className=\"main-wrap\">\r\n                            <main>\r\n                                <Route path=\"/dialogs/:userID?\"\r\n                                       render={() => <Dialogs/>}/>\r\n                                <Route path=\"/setting\" render={() => <Setting/>}/>\r\n                                <Route path={['/profile/:userID?', '/']} exact render={() => <Profile/>}/>\r\n                                <Route path=\"/friends\" render={() => <Users/>}/>\r\n                                {/*<Redirect from=\"/\" to=\"/profile\"/>*/}\r\n                                {/*<Route path={'*'} exact render={() => <NotFound/>}/>*/}\r\n                            </main>\r\n                        </div>\r\n                    </Switch>\r\n                </React.Suspense>\r\n            </div>\r\n        </ThemeProvider>);\r\n}\r\nexport default App","import React from 'react';\r\nimport './index.css';\r\nimport './App.less'\r\nimport store from './redux-state/stateRedux';\r\nimport ReactDOM from 'react-dom';\r\n\r\n\r\n\r\nimport {HashRouter} from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<HashRouter>\r\n                    <Provider store={store}>\r\n                        <App/>\r\n                    </Provider>\r\n                </HashRouter>, document.getElementById('root'));\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingPanel\":\"Users_settingPanel__2bpRV\",\"navs\":\"Users_navs__djiCl\",\"active\":\"Users_active__2-7Rz\",\"itemWrap\":\"Users_itemWrap__2a-eO\",\"item\":\"Users_item__2KFX5\",\"option\":\"Users_option__c0XWx\",\"buttons\":\"Users_buttons__3_hEN\",\"name\":\"Users_name__1ZJNU\",\"status\":\"Users_status__JVpzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"setting_wrap__2RLco\",\"item\":\"setting_item__vgTv7\",\"formItem\":\"setting_formItem__39wDi\",\"buttons\":\"setting_buttons__3MVHj\",\"tab\":\"setting_tab__170X5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"nav_navigation__okixQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"header_Header__3Uuvi\",\"headerWrap\":\"header_headerWrap__3SXSf\",\"logo\":\"header_logo__2-YEm\",\"leftside\":\"header_leftside__3Gzn8\",\"rightside\":\"header_rightside__jIdh2\",\"input\":\"header_input__3Lmm_\",\"note\":\"header_note__1Sfux\",\"messages\":\"header_messages__HXPwF\",\"newMessageCount\":\"header_newMessageCount__DtCQL\",\"profile_avatar\":\"header_profile_avatar__pJ99k\",\"logout\":\"header_logout__2ESFP\",\"Search\":\"header_Search__2cxH8\",\"Results\":\"header_Results__1d4jf\",\"Item\":\"header_Item__2gc9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogsList_dialogs__1Nqux\",\"searchDialog\":\"DialogsList_searchDialog__21E4V\",\"contactList\":\"DialogsList_contactList__onkpa\",\"avatar\":\"DialogsList_avatar__j5sJS\",\"lastMessage\":\"DialogsList_lastMessage__24o3x\",\"DialogItem\":\"DialogsList_DialogItem__2liPF\",\"newMessagesCount\":\"DialogsList_newMessagesCount__1MXuv\",\"active\":\"DialogsList_active__T85sN\",\"dates\":\"DialogsList_dates__2nUO3\",\"dialogList\":\"DialogsList_dialogList__15I7r\",\"Notification\":\"DialogsList_Notification__1nqyb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3RwXo\",\"Photo\":\"Login_Photo__3VMgt\",\"LoginForm\":\"Login_LoginForm__218aj\",\"Form\":\"Login_Form__keoEW\",\"Input\":\"Login_Input__2oHp0\",\"RememberMe\":\"Login_RememberMe__1BPhQ\",\"Error\":\"Login_Error__19o-N\",\"Captcha\":\"Login_Captcha__3eFdd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"MyPosts_button__2-4Ib\",\"item\":\"MyPosts_item__sEgfY\",\"newpost\":\"MyPosts_newpost__3nEyx\",\"send\":\"MyPosts_send__36-wM\",\"createnewpost\":\"MyPosts_createnewpost__2TTAZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogWithUser\":\"DialogWithUser_dialogWithUser__3Mv4L\",\"dialogHeader\":\"DialogWithUser_dialogHeader__3elbp\",\"createNewMessage\":\"DialogWithUser_createNewMessage__2yScJ\",\"Dialogavatar\":\"DialogWithUser_Dialogavatar__2cOgG\",\"status\":\"DialogWithUser_status__23U5w\",\"backToDialogList\":\"DialogWithUser_backToDialogList__3vQ36\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"post_item__1d9Uy\",\"postHeder\":\"post_postHeder__gMBV_\",\"postSetting\":\"post_postSetting__14YJA\",\"date\":\"post_date__I4UXF\",\"content\":\"post_content__1VIv4\",\"activity\":\"post_activity__1g_kO\"};"],"sourceRoot":""}